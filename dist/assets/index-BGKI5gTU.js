const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/compagnie-DiuZFnHS.js","assets/js/vendor-Bq-8_m9i.js","assets/css/vendor-DroWa5sQ.css","assets/js/firebase-CURBI7X6.js","assets/js/agence-Bsj2lp2X.js","assets/js/router-DoGdw-3y.js","assets/js/icons-C0JHUK9Z.js","assets/js/courier-CoQgRaHG.js","assets/js/AdminCompanyPlan-DigfP8Fh.js","assets/js/PlansManager-BVO8ClcW.js","assets/js/AdminParametresPlatformPage-DDTkGdH-.js","assets/js/ValidationComptablePage-CZIdyHv6.js","assets/js/ValidationChefAgencePage-BVeUdz3Y.js","assets/js/HomePage-BB_dPRI_.js","assets/js/PlatformSearchResultsPage-C_xQy7mE.js","assets/js/LoginPage-B82yBx9S.js","assets/js/Register-C2TExHcj.js","assets/js/ListeVillesPage-BF87DRnN.js","assets/js/AcceptInvitationPage-Bq6-fuQb.js","assets/js/AdminSidebarLayout-DHmbvBwC.js","assets/js/AdminDashboard-Cavf1HqV.js","assets/js/AdminCompagniesPage-UChaTSVv.js","assets/js/AdminModifierCompagniePage-DgqvXv1u.js","assets/js/AdminStatistiquesPage-C_4Mt5ve.js","assets/js/AdminReservationsPage-Cn4Y7YcL.js","assets/js/AdminFinancesPage-d9X5qu5n.js","assets/js/AdminCompagnieAjouterPage-YMIjej2_.js","assets/js/AdminSubscriptionsManager-D1ZzMacB.js","assets/js/AdminRevenueDashboard-CQHfya7S.js","assets/js/MediaPage-BGnbi_01.js","assets/js/DebugAuthPage-DwE-7fQa.js","assets/js/virtual_pwa-register-CcH21crf.js"])))=>i.map(i=>d[i]);
import{j as e,F as q,r as a,a as m,ak as F,al as W,am as H,an as j,ao as G,R as $}from"./js/vendor-Bq-8_m9i.js";import{b as L,L as U,m as Y,M as K,N as Q}from"./js/agence-Bsj2lp2X.js";import{u as B,c as d,R as n,e as Z,d as P,B as X}from"./js/router-DoGdw-3y.js";import{_ as o,P as J}from"./js/compagnie-DiuZFnHS.js";import{W as ee}from"./js/icons-C0JHUK9Z.js";import"./js/firebase-CURBI7X6.js";import"./js/courier-CoQgRaHG.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function s(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(i){if(i.ep)return;i.ep=!0;const c=s(i);fetch(i.href,c)}})();const te=new Set(["admin_platforme","admin_compagnie","company_accountant","agency_accountant","chef_garage","chefagence","chefembarquement","superviseur","agentcourrier","guichetier","agency_fleet_controller","financial_director"]),ne=t=>{if(!t)return"unauthenticated";const r=String(t).trim().toLowerCase();return r==="company_ceo"?"admin_compagnie":r==="chefagence"?"chefAgence":r==="agentcourrier"?"agentCourrier":r==="chefembarquement"||r==="agency_boarding_officer"||r==="embarquement"?"chefEmbarquement":te.has(r)?r:"unauthenticated"},ae={admin_platforme:"/admin/dashboard",admin_compagnie:"/role-landing",company_accountant:"/role-landing",financial_director:"/role-landing",chef_garage:"/compagnie/garage/dashboard",chefAgence:"/agence/dashboard",superviseur:"/agence/dashboard",agentCourrier:"/agence/courrier",agency_accountant:"/agence/comptabilite",guichetier:"/agence/guichet",chefEmbarquement:"/agence/boarding",agency_fleet_controller:"/agence/fleet",unauthenticated:"/login",user:"/login"},oe=t=>Array.isArray(t)?t.map(String):t?[String(t)]:[],_=({children:t,allowedRoles:r})=>{const{user:s,loading:l}=L(),i=B();if(l)return e("div",{className:"p-6 text-center text-gray-600",children:"V√©rification de l'authentification..."});if(!s)return e(d,{to:"/login",replace:!0,state:{from:i}});const c=oe(s.role).map(ne),p=new Set(r.map(g=>String(g).toLowerCase()));if(!c.some(g=>p.has(String(g).toLowerCase()))){if(c[0]==="chef_garage"&&(s!=null&&s.companyId))return e(d,{to:`/compagnie/${s.companyId}/garage/dashboard`,replace:!0});const f=c.map(R=>ae[R]).find(Boolean)||"/login";return e(d,{to:f,replace:!0})}return e(q,{children:t})};function y({allowedRoles:t,withCurrency:r,children:s}){return e(_,{allowedRoles:t,children:r?e(U,{children:s}):s})}const u={compagnieLayout:["admin_compagnie","admin_platforme"],garageLayout:["chef_garage","admin_compagnie","admin_platforme"],companyAccountantLayout:["company_accountant","financial_director","admin_platforme"],agenceShell:["chefAgence","superviseur","agentCourrier","admin_compagnie"],boarding:["chefEmbarquement","chefAgence","admin_compagnie"],fleet:["agency_fleet_controller","chefAgence","admin_compagnie"],guichet:["guichetier","chefAgence","admin_compagnie"],comptabilite:["agency_accountant","admin_compagnie"],validationsAgence:["chefAgence","superviseur","admin_compagnie"],receiptGuichet:["chefAgence","guichetier","admin_compagnie"],adminLayout:["admin_platforme"],chefComptableCompagnie:["company_accountant","financial_director","admin_platforme"],tripCosts:["chefAgence","company_accountant","financial_director","admin_compagnie","admin_platforme"],courrier:["agentCourrier","chefAgence","admin_compagnie"]},re=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.R),__vite__mapDeps([0,1,2,3,4,5,6,7]))),ie=a.lazy(()=>o(()=>import("./js/AdminCompanyPlan-DigfP8Fh.js"),__vite__mapDeps([8,1,0,3,4,5,6,7,2]))),se=a.lazy(()=>o(()=>import("./js/PlansManager-BVO8ClcW.js"),__vite__mapDeps([9,1,0,3,4,5,6,7,2]))),ce=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.M),__vite__mapDeps([0,1,2,3,4,5,6,7]))),le=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.w),__vite__mapDeps([0,1,2,3,4,5,6,7]))),ue=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.x),__vite__mapDeps([0,1,2,3,4,5,6,7]))),de=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.y),__vite__mapDeps([0,1,2,3,4,5,6,7]))),b=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.z),__vite__mapDeps([0,1,2,3,4,5,6,7]))),me=a.lazy(()=>o(()=>import("./js/AdminParametresPlatformPage-DDTkGdH-.js"),__vite__mapDeps([10,1,0,3,4,5,6,7,2]))),pe=a.lazy(()=>o(()=>import("./js/ValidationComptablePage-CZIdyHv6.js"),__vite__mapDeps([11,1,0,3,4,5,6,7,2]))),_e=a.lazy(()=>o(()=>import("./js/ValidationChefAgencePage-BVeUdz3Y.js"),__vite__mapDeps([12,1,0,3,4,5,6,7,2]))),ge=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.B),__vite__mapDeps([0,1,2,3,4,5,6,7]))),D=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.D),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(t=>({default:t.VueGlobale}))),I=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.D),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(t=>({default:t.ReservationsEnLigne}))),C=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.D),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(t=>({default:t.Finances}))),w=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.D),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(t=>({default:t.Rapports}))),O=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.D),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(t=>({default:t.Parametres}))),he=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.T),__vite__mapDeps([4,1,0,3,5,6,2,7]))),ye=a.lazy(()=>o(()=>import("./js/HomePage-BB_dPRI_.js"),__vite__mapDeps([13,1,0,3,4,5,6,7,2]))),ve=a.lazy(()=>o(()=>import("./js/PlatformSearchResultsPage-C_xQy7mE.js"),__vite__mapDeps([14,1,0,3,4,5,6,7,2]))),fe=a.lazy(()=>o(()=>import("./js/LoginPage-B82yBx9S.js"),__vite__mapDeps([15,1,0,3,4,5,6,7,2]))),Ee=a.lazy(()=>o(()=>import("./js/Register-C2TExHcj.js"),__vite__mapDeps([16,1,0,3,4,5,6,7,2]))),Pe=a.lazy(()=>o(()=>import("./js/ListeVillesPage-BF87DRnN.js"),__vite__mapDeps([17,1,0,3,4,5,6,7,2]))),Re=a.lazy(()=>o(()=>import("./js/AcceptInvitationPage-Bq6-fuQb.js"),__vite__mapDeps([18,1,0,3,4,5,6,7,2]))),Ae=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.E),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Le=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.F),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Te=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.G),__vite__mapDeps([0,1,2,3,4,5,6,7]))),be=a.lazy(()=>o(()=>import("./js/AdminSidebarLayout-DHmbvBwC.js"),__vite__mapDeps([19,1,0,3,4,5,6,7,2]))),V=a.lazy(()=>o(()=>import("./js/AdminDashboard-Cavf1HqV.js"),__vite__mapDeps([20,1,0,3,4,5,6,7,2]))),De=a.lazy(()=>o(()=>import("./js/AdminCompagniesPage-UChaTSVv.js"),__vite__mapDeps([21,1,0,3,4,5,6,7,2]))),Ie=a.lazy(()=>o(()=>import("./js/AdminModifierCompagniePage-DgqvXv1u.js"),__vite__mapDeps([22,1,0,3,4,5,6,7,2]))),Ce=a.lazy(()=>o(()=>import("./js/AdminStatistiquesPage-C_4Mt5ve.js"),__vite__mapDeps([23,1,0,3,4,5,6,7,2]))),we=a.lazy(()=>o(()=>import("./js/AdminReservationsPage-Cn4Y7YcL.js"),__vite__mapDeps([24,1,0,3,4,5,6,7,2]))),Oe=a.lazy(()=>o(()=>import("./js/AdminFinancesPage-d9X5qu5n.js"),__vite__mapDeps([25,1,0,3,4,5,6,7,2]))),Ve=a.lazy(()=>o(()=>import("./js/AdminCompagnieAjouterPage-YMIjej2_.js"),__vite__mapDeps([26,1,0,3,4,5,6,7,2]))),ze=a.lazy(()=>o(()=>import("./js/AdminSubscriptionsManager-D1ZzMacB.js"),__vite__mapDeps([27,1,0,3,4,5,6,7,2]))),Se=a.lazy(()=>o(()=>import("./js/AdminRevenueDashboard-CQHfya7S.js"),__vite__mapDeps([28,1,0,3,4,5,6,7,2]))),xe=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.H),__vite__mapDeps([0,1,2,3,4,5,6,7]))),ke=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.J),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Ne=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.K),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Fe=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.L),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Be=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.N),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Me=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.Q),__vite__mapDeps([0,1,2,3,4,5,6,7])));a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.W),__vite__mapDeps([0,1,2,3,4,5,6,7])));const E=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.X),__vite__mapDeps([0,1,2,3,4,5,6,7]))),qe=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.Y),__vite__mapDeps([0,1,2,3,4,5,6,7]))),z=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.Z),__vite__mapDeps([0,1,2,3,4,5,6,7])).catch(t=>(console.warn("CEOTreasuryPage lazy load failed, retrying:",t),o(()=>import("./js/compagnie-DiuZFnHS.js").then(r=>r.Z),__vite__mapDeps([0,1,2,3,4,5,6,7]))))),We=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.$),__vite__mapDeps([0,1,2,3,4,5,6,7]))),He=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.a3),__vite__mapDeps([0,1,2,3,4,5,6,7]))),je=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.a4),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Ge=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.a5),__vite__mapDeps([0,1,2,3,4,5,6,7]))),$e=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.a1),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Ue=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.a2),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Ye=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.a6),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Ke=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.a7),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Qe=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.a8),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Ze=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.a9),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Xe=a.lazy(()=>o(()=>import("./js/compagnie-DiuZFnHS.js").then(t=>t.a0),__vite__mapDeps([0,1,2,3,4,5,6,7]))),Je=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.U),__vite__mapDeps([4,1,0,3,5,6,2,7]))),et=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.V),__vite__mapDeps([4,1,0,3,5,6,2,7]))),tt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.W),__vite__mapDeps([4,1,0,3,5,6,2,7]))),nt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.X),__vite__mapDeps([4,1,0,3,5,6,2,7]))),at=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.Y),__vite__mapDeps([4,1,0,3,5,6,2,7]))),ot=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.Z),__vite__mapDeps([4,1,0,3,5,6,2,7]))),rt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t._),__vite__mapDeps([4,1,0,3,5,6,2,7]))),it=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.$),__vite__mapDeps([4,1,0,3,5,6,2,7]))),st=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.a0),__vite__mapDeps([4,1,0,3,5,6,2,7]))),ct=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.a1),__vite__mapDeps([4,1,0,3,5,6,2,7]))),lt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.a2),__vite__mapDeps([4,1,0,3,5,6,2,7]))),ut=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.a3),__vite__mapDeps([4,1,0,3,5,6,2,7]))),dt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.a4),__vite__mapDeps([4,1,0,3,5,6,2,7]))),mt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.a5),__vite__mapDeps([4,1,0,3,5,6,2,7]))),pt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.a6),__vite__mapDeps([4,1,0,3,5,6,2,7]))),_t=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.a7),__vite__mapDeps([4,1,0,3,5,6,2,7]))),gt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.a8),__vite__mapDeps([4,1,0,3,5,6,2,7]))),ht=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.a9),__vite__mapDeps([4,1,0,3,5,6,2,7]))),yt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.aa),__vite__mapDeps([4,1,0,3,5,6,2,7]))),vt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.ab),__vite__mapDeps([4,1,0,3,5,6,2,7]))),ft=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.ac),__vite__mapDeps([4,1,0,3,5,6,2,7])));a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.ad),__vite__mapDeps([4,1,0,3,5,6,2,7])));const Et=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.ae),__vite__mapDeps([4,1,0,3,5,6,2,7]))),Pt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.af),__vite__mapDeps([4,1,0,3,5,6,2,7]))),Rt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.ag),__vite__mapDeps([4,1,0,3,5,6,2,7]))),At=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.ah),__vite__mapDeps([4,1,0,3,5,6,2,7]))),Lt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.ai),__vite__mapDeps([4,1,0,3,5,6,2,7]))),Tt=a.lazy(()=>o(()=>import("./js/agence-Bsj2lp2X.js").then(t=>t.aj),__vite__mapDeps([4,1,0,3,5,6,2,7]))),bt=a.lazy(()=>o(()=>import("./js/MediaPage-BGnbi_01.js"),__vite__mapDeps([29,1,0,3,4,5,6,7,2]))),Dt=a.lazy(()=>o(()=>import("./js/DebugAuthPage-DwE-7fQa.js"),__vite__mapDeps([30,1,0,3,4,5,6,7,2]))),M=t=>Array.isArray(t)?t:[t].filter(Boolean),v=(t,r)=>M(t).some(s=>r.includes(String(s))),It=t=>{const r=M(t).map(String);return v(r,u.comptabilite)?"/agence/comptabilite":v(r,u.guichet)?"/agence/guichet":v(r,u.courrier)?"/agence/courrier":v(r,u.agenceShell)?"/agence/dashboard":v(r,["admin_compagnie","company_ceo"])?"/login":v(r,u.adminLayout)?"/admin/dashboard":"/login"},Ct={admin_platforme:"/admin/dashboard",agency_accountant:"/agence/comptabilite",chefAgence:"/agence/dashboard",chefEmbarquement:"/agence/boarding",agency_fleet_controller:"/agence/fleet",guichetier:"/agence/guichet",agentCourrier:"/agence/courrier"};function S(){const{user:t}=L();if(!t)return e(d,{to:"/login",replace:!0});const r=String((t==null?void 0:t.role)??"").trim(),s=(t.companyId??"")&&String(t.companyId).trim()?String(t.companyId):"";if((r==="admin_compagnie"||r==="company_ceo")&&s)return e(d,{to:`/compagnie/${s}/command-center`,replace:!0});if((r==="admin_compagnie"||r==="company_ceo")&&!s)return e(d,{to:"/login",replace:!0});if((r==="company_accountant"||r==="financial_director")&&s)return e(d,{to:`/compagnie/${s}/accounting`,replace:!0});if((r==="company_accountant"||r==="financial_director")&&!s)return e(d,{to:"/login",replace:!0});const l=Ct[r]??It(r);return e(d,{to:l,replace:!0})}function wt(){const{slug:t,id:r}=P();return e(d,{to:`/${t||""}/reservation/${r||""}`,replace:!0})}function Ot(){const{companyId:t}=P();return e(d,{to:`/compagnie/${t}/dashboard`,replace:!0})}function Vt(){const{companyId:t}=P();return e(d,{to:`/compagnie/${t}/revenus-liquidites?tab=revenus`,replace:!0})}function zt(){const{companyId:t}=P();return e(d,{to:`/compagnie/${t}/revenus-liquidites?tab=liquidites`,replace:!0})}const St=()=>{const{loading:t}=L(),{pathname:r}=B();return t&&!(r==="/")?null:e(a.Suspense,{fallback:null,children:m(Z,{children:[e(n,{path:"/debug-auth",element:e(Dt,{})}),e(n,{path:"/",element:e(ye,{})}),e(n,{path:"/role-landing",element:e(S,{})}),e(n,{path:"/login",element:e(fe,{})}),e(n,{path:"/register",element:e(Ee,{})}),e(n,{path:"/resultats",element:e(ve,{})}),e(n,{path:"/villes",element:e(Pe,{})}),e(n,{path:"/:slug/mentions-legales",element:e(ce,{})}),e(n,{path:"/:slug/confidentialite",element:e(le,{})}),e(n,{path:"/:slug/conditions",element:e(ue,{})}),e(n,{path:"/:slug/cookies",element:e(de,{})}),e(n,{path:"/accept-invitation/:invitationId",element:e(Re,{})}),m(n,{path:"/admin",element:e(_,{allowedRoles:u.adminLayout,children:e(J,{children:e(be,{})})}),children:[e(n,{index:!0,element:e(V,{})}),e(n,{path:"dashboard",element:e(V,{})}),e(n,{path:"compagnies",element:e(De,{})}),e(n,{path:"compagnies/ajouter",element:e(Ve,{})}),e(n,{path:"compagnies/:id/modifier",element:e(Ie,{})}),e(n,{path:"compagnies/:companyId/plan",element:e(ie,{})}),e(n,{path:"plans",element:e(se,{})}),e(n,{path:"subscriptions",element:e(ze,{})}),e(n,{path:"revenus",element:e(Se,{})}),e(n,{path:"reservations",element:e(we,{})}),e(n,{path:"finances",element:e(Oe,{})}),e(n,{path:"statistiques",element:e(Ce,{})}),e(n,{path:"parametres-platforme",element:e(me,{})}),e(n,{path:"media",element:e(bt,{})}),e(n,{path:"compagnies/:companyId/configurer",element:e(Ot,{})})]}),e(n,{path:"/compagnie/:companyId/trip-costs",element:e(_,{allowedRoles:u.tripCosts,children:e(Ze,{})})}),m(n,{path:"/compagnie/:companyId",element:e(_,{allowedRoles:u.compagnieLayout,children:e(xe,{})}),children:[e(n,{index:!0,element:e(S,{})}),e(n,{path:"command-center",element:e(Be,{})}),e(n,{path:"payment-approvals",element:e(Me,{})}),e(n,{path:"revenus-liquidites",element:e(Ke,{})}),e(n,{path:"finances",element:e(Vt,{})}),e(n,{path:"treasury",element:e(zt,{})}),e(n,{path:"operations-reseau",element:e(Qe,{})}),e(n,{path:"fleet",element:e(E,{})}),e(n,{path:"dashboard",element:e(Fe,{})}),e(n,{path:"comptabilite",element:e(Ge,{})}),e(n,{path:"agences",element:e(We,{})}),e(n,{path:"parametres",element:e(He,{})}),e(n,{path:"parametres/plan",element:e(Xe,{companyId:""})}),e(n,{path:"reservations",element:e(je,{})}),e(n,{path:"images",element:e($e,{})}),e(n,{path:"payment-settings",element:e(Ue,{})}),e(n,{path:"avis-clients",element:e(Ye,{})})]}),m(n,{path:"/compagnie/:companyId/garage",element:e(_,{allowedRoles:u.garageLayout,children:e(ke,{})}),children:[e(n,{index:!0,element:e(d,{to:"dashboard",replace:!0})}),e(n,{path:"dashboard",element:e(qe,{})}),e(n,{path:"fleet",element:e(E,{})}),e(n,{path:"maintenance",element:e(E,{view:"maintenance"})}),e(n,{path:"transit",element:e(E,{view:"transit"})}),e(n,{path:"incidents",element:e(E,{view:"incidents"})})]}),m(n,{path:"/compagnie/:companyId/accounting",element:e(_,{allowedRoles:u.companyAccountantLayout,children:e(Ne,{})}),children:[e(n,{index:!0,element:e(D,{})}),e(n,{path:"reservations-en-ligne",element:e(I,{})}),e(n,{path:"finances",element:e(C,{})}),e(n,{path:"treasury",element:e(z,{})}),e(n,{path:"rapports",element:e(w,{})}),e(n,{path:"parametres",element:e(O,{})})]}),m(n,{path:"/chef-comptable",element:e(_,{allowedRoles:u.chefComptableCompagnie,children:e(ge,{})}),children:[e(n,{index:!0,element:e(D,{})}),e(n,{path:"reservations-en-ligne",element:e(I,{})}),e(n,{path:"finances",element:e(C,{})}),e(n,{path:"treasury",element:e(z,{})}),e(n,{path:"rapports",element:e(w,{})}),e(n,{path:"parametres",element:e(O,{})})]}),m(n,{path:"/agence",element:e(_,{allowedRoles:u.agenceShell,children:e(Je,{})}),children:[e(n,{index:!0,element:e(d,{to:"dashboard",replace:!0})}),e(n,{path:"dashboard",element:e(et,{})}),e(n,{path:"operations",element:e(tt,{})}),e(n,{path:"trajets",element:e(y,{allowedRoles:u.agenceShell,withCurrency:!0,children:e(rt,{})})}),e(n,{path:"finances",element:e(nt,{})}),e(n,{path:"treasury",element:e(it,{})}),e(n,{path:"team",element:e(at,{})}),e(n,{path:"reports",element:e(ot,{})}),m(n,{path:"courrier",element:e(y,{allowedRoles:u.courrier,withCurrency:!0,children:e(ft,{})}),children:[e(n,{index:!0,element:e(Et,{})}),e(n,{path:"nouveau",element:e(Pt,{})}),e(n,{path:"lots",element:e(Tt,{})}),e(n,{path:"reception",element:e(Rt,{})}),e(n,{path:"remise",element:e(At,{})}),e(n,{path:"rapport",element:e(Lt,{})})]})]}),m(n,{path:"/agence/boarding",element:e(_,{allowedRoles:u.boarding,children:e(ut,{})}),children:[e(n,{index:!0,element:e(dt,{})}),e(n,{path:"scan",element:e(mt,{})})]}),m(n,{path:"/agence/fleet",element:e(_,{allowedRoles:u.fleet,children:e(pt,{})}),children:[e(n,{index:!0,element:e(_t,{})}),e(n,{path:"operations",element:e(vt,{})}),e(n,{path:"assignment",element:e(gt,{})}),e(n,{path:"vehicles",element:e(ht,{})}),e(n,{path:"movements",element:e(yt,{})})]}),e(n,{path:"/agence/guichet",element:e(y,{allowedRoles:u.guichet,withCurrency:!0,children:e(st,{})})}),e(n,{path:"/agence/comptabilite",element:e(y,{allowedRoles:u.comptabilite,withCurrency:!0,children:e(lt,{})})}),e(n,{path:"/compta/validations",element:e(_,{allowedRoles:["company_accountant","financial_director"],children:e(pe,{})})}),e(n,{path:"/agence/validations",element:e(_,{allowedRoles:u.validationsAgence,children:e(_e,{})})}),e(n,{path:"/agence/receipt/:id",element:e(y,{allowedRoles:u.receiptGuichet,withCurrency:!0,children:e(ct,{})})}),e(n,{path:"/agence/reservations/print",element:e(y,{allowedRoles:u.receiptGuichet,withCurrency:!0,children:e(he,{})})}),e(n,{path:"/:slug/reserver",element:e(Ae,{})}),e(n,{path:"/:slug/reservation/:id",element:e(b,{})}),e(n,{path:"/:slug/mon-billet",element:e(b,{})}),e(n,{path:"/:slug/upload-preuve/:id",element:e(wt,{})}),e(n,{path:"/mes-reservations",element:e(Le,{})}),e(n,{path:"/mes-billets",element:e(Te,{})}),e(n,{path:"/:slug/*",element:e(a.Suspense,{fallback:null,children:e(re,{})})}),e(n,{path:"/comptable",element:e(d,{to:"/chef-comptable",replace:!0})}),e(n,{path:"/compagnie/reservations-en-ligne-compta",element:e(d,{to:"/chef-comptable/reservations-en-ligne",replace:!0})}),e(n,{path:"*",element:m("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gray-100",children:[e("h1",{className:"text-4xl font-bold text-red-600 mb-4",children:"404 - Page non trouv√©e"}),e("p",{className:"text-lg text-gray-700 mb-6",children:"La page demand√©e est introuvable ou a √©t√© d√©plac√©e."}),e("a",{href:"/",className:"bg-orange-600 text-white px-5 py-2 rounded hover:bg-orange-700",children:"Retour √† l'accueil"})]})})]},r)})};function xt(t){return new Promise((r,s)=>{var l,i;try{const c=t;if(!c.waiting){r();return}let p=!1;const h=()=>{p||(p=!0,navigator.serviceWorker.removeEventListener("controllerchange",h),r())};navigator.serviceWorker.addEventListener("controllerchange",h);try{c.waiting.postMessage({type:"SKIP_WAITING"})}catch{try{(i=(l=c.waiting).skipWaiting)==null||i.call(l)}catch{}}setTimeout(()=>{p||(navigator.serviceWorker.removeEventListener("controllerchange",h),s(new Error("timeout waiting for controllerchange")))},1e4)}catch(c){s(c)}})}function kt({needRefresh:t=!1,onUpdateClick:r,onDismiss:s}){const[l,i]=a.useState(null);a.useEffect(()=>{const g=f=>{var T;const R=((T=f==null?void 0:f.detail)==null?void 0:T.registration)??null;i(R)};return window.addEventListener("sw:updated-available",g),window.addEventListener("sw:waiting",g),()=>{window.removeEventListener("sw:updated-available",g),window.removeEventListener("sw:waiting",g)}},[]);const c=t||l,p=()=>{if(t&&r){r();return}l&&xt(l).then(()=>window.location.reload())},h=()=>{t&&s?s():i(null)};return c?m("div",{className:"fixed right-5 bottom-5 z-50 max-w-xs rounded-lg shadow-lg p-3 flex flex-col gap-3 bg-orange-600 text-white",children:[e("div",{className:"font-semibold",children:"Nouvelle version disponible"}),m("div",{className:"flex items-center gap-2",children:[e("button",{onClick:p,className:"flex-1 bg-white text-orange-600 font-semibold py-2 rounded-md",children:"Mettre √† jour"}),e("button",{onClick:h,className:"px-3 py-2 rounded-md border border-white/30",children:"Ignorer"})]})]}):null}const Nt=()=>Y()?null:e("div",{className:"fixed left-1/2 -translate-x-1/2 bottom-4 z-[100] px-4 py-2 rounded-full bg-red-600 text-white shadow-lg animate-fadein",children:m("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e(ee,{className:"h-4 w-4"}),e("span",{children:"Connexion internet indisponible."})]})}),Ft=()=>{const[t,r]=a.useState(!1),s=a.useRef(null);return a.useEffect(()=>{typeof window>"u"||o(async()=>{const{registerSW:c}=await import("./js/virtual_pwa-register-CcH21crf.js");return{registerSW:c}},__vite__mapDeps([31,0,1,2,3,4,5,6,7])).then(({registerSW:c})=>{s.current=c({onNeedRefresh:()=>r(!0),onOfflineReady:()=>{}})})},[]),m(K,{children:[e(St,{}),e(kt,{needRefresh:t,onUpdateClick:()=>{var c;(c=s.current)==null||c.call(s)},onDismiss:()=>{r(!1)}}),e(Nt,{})]})};F.use(W).use(H).init({fallbackLng:"fr",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],lookupLocalStorage:"i18nextLng",caches:["localStorage"]},resources:{fr:{translation:{searchTitle:"Trouvez votre trajet",departureCity:"Ville de d√©part",arrivalCity:"Ville d‚Äôarriv√©e",searchTrip:"Rechercher",departurePlaceholder:"Ex: Bamako",arrivalPlaceholder:"Ex: Abidjan",companyNotFound:"Compagnie introuvable.",loadingError:"Erreur de chargement.",invalidCity:"Veuillez entrer des villes valides.",error:"Erreur",backToHome:"Retour √† l‚Äôaccueil",ourAgencies:"Nos agences",myBookings:"Mes r√©servations",contact:"Contact",login:"Connexion",about:"√Ä propos",welcomeTransport:"Bienvenue sur notre plateforme de transport.",followUs:"Suivez-nous",customerReviews:"Avis clients",phone:"T√©l√©phone",country:"Pays",district:"Quartier",address:"Adresse",notSpecified:"Non sp√©cifi√©e",close:"Fermer",legalMentions:"Mentions l√©gales",privacyPolicy:"Politique de confidentialit√©",ourCompany:"Notre compagnie",defaultAbout:"Votre partenaire de confiance pour vos d√©placements.",allRightsReserved:"Tous droits r√©serv√©s",defaultSlogan:"Votre monde, plus rapide. Plus simple.",searchInstruction:"O√π souhaitez-vous partir aujourd‚Äôhui ?",giveReview:"Donner votre avis",openingHours:"Horaires",legalTerms:"Conditions g√©n√©rales",cookiePolicy:"Politique des cookies",notFound:"Page introuvable.",backToCompany:"Retour √† la compagnie",language:"Langue",exclusiveServices:"Nos services exclusifs",popularDestinations:"Destinations populaires",bookNow:"R√©server",seeMore:"Voir plus",bookInOneClick:"R√©servez vos trajets en un seul clic",whatClientsSay:"Ce que nos clients disent",realExperiences:"Les exp√©riences authentiques de nos voyageurs",legalNotice:"Mentions l√©gales",termsConditions:"Conditions g√©n√©rales",leaveReview:"Laisser un avis",heroTitleWith:"R√©servez votre billet avec",themeLight:"Mode clair",themeDark:"Mode sombre",destinationsPopular:"Destinations populaires",reserveNowArrow:"R√©server ‚Üí",openingHoursVariable:"Horaires variables",dailyDepartures:"D√©parts quotidiens",departuresPerWeek:"{{count}} d√©parts / semaine",whyChooseCompany:"Pourquoi choisir {{companyName}} ?",readyToTravelWith:"Pr√™t √† voyager avec {{companyName}} ?",reserveNow:"R√©server maintenant",findAgency:"Trouver une agence",helpTitle:"Aide",helpSubtitle:"{{companyName}} ‚Äî Aide",helpComingSoon:"FAQ, contact et informations pratiques √† venir.",contactToConfigure:"Coordonn√©es √† configurer par la compagnie.",onBoardServices:"Services √† bord",home:"Accueil",myTickets:"Mes billets",reservations:"R√©servations",help:"Aide",yearsExperience:"{{count}}+ ans d‚Äôexp√©rience",fastOnlineBooking:"R√©servation en ligne rapide",modernOnBoardServices:"Services √† bord modernes",safeTrips:"Voyages s√©curis√©s",serviceSecurityTitle:"S√©curit√©",serviceSecurityDesc:"Votre s√©curit√© est notre priorit√© √† chaque trajet.",servicePunctualityTitle:"Ponctualit√©",servicePunctualityDesc:"Des d√©parts et arriv√©es toujours √† l‚Äôheure.",serviceSupportTitle:"Support client",serviceSupportDesc:"Une assistance r√©active, o√π que vous soyez.",serviceComfortTitle:"Confort",serviceComfortDesc:"Des v√©hicules spacieux et climatis√©s pour votre confort."}},en:{translation:{searchTitle:"Find your trip",departureCity:"Departure city",arrivalCity:"Arrival city",searchTrip:"Search",departurePlaceholder:"Ex: Bamako",arrivalPlaceholder:"Ex: Abidjan",companyNotFound:"Company not found.",loadingError:"Loading error.",invalidCity:"Please enter valid cities.",error:"Error",backToHome:"Back to home",ourAgencies:"Our agencies",myBookings:"My bookings",contact:"Contact",login:"Login",about:"About",welcomeTransport:"Welcome to our transport platform.",followUs:"Follow us",customerReviews:"Customer reviews",phone:"Phone",country:"Country",district:"District",address:"Address",notSpecified:"Not specified",close:"Close",legalMentions:"Legal mentions",privacyPolicy:"Privacy policy",ourCompany:"Our company",defaultAbout:"Your trusted partner for your travels.",allRightsReserved:"All rights reserved",defaultSlogan:"Your world, faster. Simpler.",searchInstruction:"Where do you want to go today?",giveReview:"Give your review",openingHours:"Opening hours",legalTerms:"Terms and Conditions",cookiePolicy:"Cookie Policy",notFound:"Page not found.",backToCompany:"Back to company",language:"Language",exclusiveServices:"Our exclusive services",popularDestinations:"Popular destinations",bookNow:"Book now",seeMore:"See more",bookInOneClick:"Book your trip in one click",whatClientsSay:"What our clients say",realExperiences:"Real experiences from our travelers",legalNotice:"Legal notice",termsConditions:"Terms and Conditions",leaveReview:"Leave a review",heroTitleWith:"Book your ticket with",themeLight:"Light mode",themeDark:"Dark mode",destinationsPopular:"Popular destinations",reserveNowArrow:"Book ‚Üí",openingHoursVariable:"Variable schedules",dailyDepartures:"Daily departures",departuresPerWeek:"{{count}} departures / week",whyChooseCompany:"Why choose {{companyName}}?",readyToTravelWith:"Ready to travel with {{companyName}}?",reserveNow:"Book now",findAgency:"Find an agency",helpTitle:"Help",helpSubtitle:"{{companyName}} ‚Äî Help",helpComingSoon:"FAQ, contact and practical information coming soon.",contactToConfigure:"Contact details to be configured by the company.",onBoardServices:"On-board services",home:"Home",myTickets:"My tickets",reservations:"Reservations",help:"Help",yearsExperience:"{{count}}+ years of experience",fastOnlineBooking:"Fast online booking",modernOnBoardServices:"Modern on-board services",safeTrips:"Safe trips",serviceSecurityTitle:"Security",serviceSecurityDesc:"Your safety is our top priority on every trip.",servicePunctualityTitle:"Punctuality",servicePunctualityDesc:"Departures and arrivals always on time.",serviceSupportTitle:"Customer support",serviceSupportDesc:"Responsive assistance, wherever you are.",serviceComfortTitle:"Comfort",serviceComfortDesc:"Spacious and air-conditioned vehicles for your comfort."}}}});let x=0;function Bt(t){const s=String((t==null?void 0:t.message)||(t==null?void 0:t.stack)||"").match(/https?:\/\/[^\s"]*indexes[^\s"]*/i);return s?s[0]:null}function A(t){const r=Date.now();if(r-x<2e3)return;x=r;const s=Bt(t),l="Cette requ√™te Firestore a besoin d‚Äôun index (non cr√©√©).",i=s?`

üëâ Cliquez sur "Cr√©er l‚Äôindex" puis revenez sur l‚Äôapp.

Lien : ${s}`:`

üëâ Ouvrez la console Firebase > Firestore > Indexes > "Create index" (copiez la requ√™te si besoin).`;if(alert(`${l}${i}`),s)try{window.open(s,"_blank","noopener")}catch{}console.warn("[Firestore] Index requis ‚Üí",s||"(aucun lien d√©tect√©)",t)}const k=window;if(!k.__teliya_boot_patched){k.__teliya_boot_patched=!0;const t=l=>{var p;const i=l==null?void 0:l.reason,c=String((i==null?void 0:i.message)??"");(i==null?void 0:i.code)==="failed-precondition"&&c.includes("create_index")&&(A(i),(p=l.preventDefault)==null||p.call(l))};window.addEventListener("unhandledrejection",t);const r=l=>{const i=l==null?void 0:l.error,c=String((i==null?void 0:i.message)??"");(i==null?void 0:i.code)==="failed-precondition"&&c.includes("create_index")&&A(i)};window.addEventListener("error",r);const s=console.error.bind(console);console.error=(...l)=>{const i=l==null?void 0:l[0],c=String((i==null?void 0:i.message)??"");(i==null?void 0:i.code)==="failed-precondition"&&c.includes("create_index")&&A(i),s(...l)}}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(t=>{t.forEach(r=>r.unregister())});const Mt="public-theme-dark";function qt(){try{localStorage.getItem(Mt)==="true"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}catch{}}const N=document.getElementById("root");if(!N)console.error("‚ùå Impossible de trouver #root");else{qt();const t=()=>e($.StrictMode,{children:e(X,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e(G,{i18n:F,children:e(Ft,{})})})}),r=()=>{const[s,l]=a.useState(!1);return a.useEffect(()=>{Q().catch(i=>console.warn("‚ö†Ô∏è initFirebase a √©chou√© ‚Äî on continue :",i)).finally(()=>l(!0))},[]),s?e(t,{}):null};j.createRoot(N).render(e(r,{}))}
