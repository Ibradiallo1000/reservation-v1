import{r as i,j as a}from"./react-A-4nP3fl.js";import{d as c,n as m}from"./firebase-CbfwkGbo.js";import{d as h}from"../index-ChphXJpr.js";const b=({reservation:t,onClose:n,onUpdated:d})=>{const[e,p]=i.useState({nomClient:t.nomClient||"",telephone:t.telephone||"",depart:t.depart||"",arrivee:t.arrivee||"",date:t.date||"",heure:t.heure||"",seatsGo:t.seatsGo||1,seatsReturn:t.seatsReturn||0,typeVoyage:t.seatsReturn>0?"aller-retour":"aller-simple"}),r=l=>{const{name:s,value:o}=l.target;p({...e,[s]:s.includes("seats")?parseInt(o):o})},u=async l=>{l.preventDefault();const s=c(h,"reservations",t.id);await m(s,{nomClient:e.nomClient,telephone:e.telephone,depart:e.depart,arrivee:e.arrivee,date:e.date,heure:e.heure,seatsGo:e.seatsGo,seatsReturn:e.typeVoyage==="aller-retour"?e.seatsReturn:0,updatedAt:new Date().toISOString()}),d(),n()};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("form",{onSubmit:u,className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-xl space-y-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Modifier la réservation"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"nomClient",value:e.nomClient,onChange:r,placeholder:"Nom",className:"border p-2 rounded"}),a.jsx("input",{name:"telephone",value:e.telephone,onChange:r,placeholder:"Téléphone",className:"border p-2 rounded"}),a.jsx("input",{name:"depart",value:e.depart,onChange:r,placeholder:"Départ",className:"border p-2 rounded"}),a.jsx("input",{name:"arrivee",value:e.arrivee,onChange:r,placeholder:"Arrivée",className:"border p-2 rounded"}),a.jsx("input",{name:"date",type:"date",value:e.date,onChange:r,className:"border p-2 rounded"}),a.jsx("input",{name:"heure",type:"time",value:e.heure,onChange:r,className:"border p-2 rounded"})]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"typeVoyage",value:"aller-simple",checked:e.typeVoyage==="aller-simple",onChange:r})," Aller simple"]}),a.jsxs("label",{children:[a.jsx("input",{type:"radio",name:"typeVoyage",value:"aller-retour",checked:e.typeVoyage==="aller-retour",onChange:r})," Aller-retour"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{name:"seatsGo",type:"number",value:e.seatsGo,onChange:r,placeholder:"Places aller",className:"border p-2 rounded"}),e.typeVoyage==="aller-retour"&&a.jsx("input",{name:"seatsReturn",type:"number",value:e.seatsReturn,onChange:r,placeholder:"Places retour",className:"border p-2 rounded"})]}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx("button",{type:"button",onClick:n,className:"text-gray-500",children:"Annuler"}),a.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Enregistrer"})]})]})})};export{b as M};
