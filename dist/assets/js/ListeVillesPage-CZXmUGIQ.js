import{r as a,j as e}from"./react-BKlva80Y.js";import{k as p,j as u}from"./firebase-1zyXmG6H.js";import{d as f}from"../index-BrxuZDy-.js";import"./vendor-CZDa83Cj.js";const y=()=>{const[n,d]=a.useState([]),[l,i]=a.useState(""),[o,m]=a.useState(!0);a.useEffect(()=>{(async()=>{try{const h=(await p(u(f,"villes"))).docs.map(r=>({id:r.id,...r.data()})).sort((r,x)=>r.nom.localeCompare(x.nom));d(h)}catch(t){console.error("Erreur chargement des villes :",t)}finally{m(!1)}})()},[]);const c=n.filter(s=>s.nom.toLowerCase().includes(l.toLowerCase()));return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"üìç Liste des villes enregistr√©es"}),e.jsx("input",{type:"text",placeholder:"Rechercher une ville...",value:l,onChange:s=>i(s.target.value),className:"mb-4 p-2 border w-full md:w-1/2 rounded"}),o?e.jsx("p",{className:"text-gray-500",children:"Chargement..."}):e.jsxs("table",{className:"w-full table-auto border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200 text-left",children:[e.jsx("th",{className:"p-2 border",children:"#"}),e.jsx("th",{className:"p-2 border",children:"Nom de la ville"})]})}),e.jsx("tbody",{children:c.map((s,t)=>e.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[e.jsx("td",{className:"p-2 border",children:t+1}),e.jsx("td",{className:"p-2 border font-medium",children:s.nom})]},s.id))})]}),!o&&c.length===0&&e.jsx("p",{className:"text-center text-gray-500 mt-4",children:"Aucune ville trouv√©e."})]})};export{y as default};
