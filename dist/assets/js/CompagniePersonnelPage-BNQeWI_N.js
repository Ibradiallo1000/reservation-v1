import{r as d,j as s}from"./react-PtMwKKf1.js";import{q as i,w as p,k as m,l as x}from"./firebase-eGIzIftJ.js";import{u as h,d as j}from"../index-B745l0NT.js";import"./vendor-B5FTF_2c.js";const f=()=>{const{user:a}=h(),[t,c]=d.useState([]),o=async()=>{if(!(a!=null&&a.companyId))return;const e=i(m(j,"users"),p("companyId","==",a.companyId)),n=(await x(e)).docs.map(l=>({id:l.id,...l.data()}));c(n)};return d.useEffect(()=>{o()},[a]),s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Gestion du personnel"}),s.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[s.jsx("h2",{className:"font-semibold text-lg mb-3",children:"Liste des agents"}),t.length===0?s.jsx("p",{className:"text-gray-500",children:"Aucun agent trouvé."}):s.jsxs("table",{className:"w-full table-auto border",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border px-4 py-2",children:"Nom"}),s.jsx("th",{className:"border px-4 py-2",children:"Rôle"}),s.jsx("th",{className:"border px-4 py-2",children:"Email"}),s.jsx("th",{className:"border px-4 py-2",children:"Téléphone"}),s.jsx("th",{className:"border px-4 py-2",children:"Agence"})]})}),s.jsx("tbody",{children:t.map(e=>{var r;return s.jsxs("tr",{children:[s.jsx("td",{className:"border px-4 py-2",children:e.displayName||"-"}),s.jsx("td",{className:"border px-4 py-2",children:e.role}),s.jsx("td",{className:"border px-4 py-2",children:e.email}),s.jsx("td",{className:"border px-4 py-2",children:e.telephone||"-"}),s.jsx("td",{className:"border px-4 py-2",children:((r=e.agence)==null?void 0:r.nom)||"-"})]},e.id)})})]})]})]})};export{f as default};
