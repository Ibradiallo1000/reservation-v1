import{b as f,r as c,a,j as e,T as N,D as C,E,G as I,M as q,R as k,J as M,K as R,O as U,Q as z,V as D}from"./react-DB_4kGOy.js";import{q as P,o as $,z as L,x as j,w as F,y as S}from"./firebase-lLzYRzUk.js";import{d as v,m as V}from"../index-Bkmir__O.js";import"./vendor-C-DAJou6.js";const B=()=>{const s=f(),[r,l]=c.useState(!1),[o,t]=c.useState(()=>{try{return localStorage.getItem("teliya:lastLogoUrl")}catch{return null}}),[n,u]=c.useState(!1);c.useEffect(()=>{let i=!1;return(async()=>{var g;try{const p=await P($(v,"platform","settings")),b=p.exists()?(g=p.data())==null?void 0:g.logoUrl:null;if(!i&&b){t(b);try{localStorage.setItem("teliya:lastLogoUrl",b)}catch{}const h=document.createElement("link");h.rel="preload",h.as="image",h.href=b,h.setAttribute("fetchpriority","high"),document.head.appendChild(h),setTimeout(()=>{try{document.head.removeChild(h)}catch{}},4e3)}}catch{}})(),()=>{i=!0}},[]);const m=()=>s("/"),d=()=>{l(!1),s("/mes-reservations")},x=()=>{l(!1),s("/login")};return a("header",{className:"bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-gray-200",children:[a("div",{className:"max-w-7xl mx-auto px-4 py-3 flex justify-between items-center",children:[a("button",{onClick:m,className:"flex items-center gap-2","aria-label":"Accueil Teliya",children:[a("div",{className:"h-9 w-9 rounded-full bg-white ring-2 ring-white border border-orange-500/20 overflow-hidden grid place-items-center",children:[!n&&e("div",{className:"w-4.5 h-4.5 rounded-full bg-gray-200 animate-pulse"}),o?e("img",{src:o,alt:"Logo Teliya",width:36,height:36,className:`w-9 h-9 object-contain rounded-full ${n?"":"opacity-0"}`,loading:"eager",decoding:"async",onLoad:()=>u(!0)}):e("img",{src:"/images/teliya-logo.jpg",alt:"Logo Teliya",width:36,height:36,className:"w-9 h-9 object-contain rounded-full",loading:"eager",decoding:"async"})]}),e("span",{className:"text-2xl font-extrabold text-orange-600 tracking-wide",children:"Teliya"})]}),a("nav",{className:"hidden md:flex items-center gap-3",children:[a("button",{onClick:d,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium border border-gray-300 hover:bg-gray-50",title:"Retrouver mes réservations",children:[e(N,{className:"w-4 h-4 text-orange-600"}),"Mes réservations"]}),a("button",{onClick:x,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-white bg-orange-600 hover:bg-orange-700",title:"Se connecter",children:[e(C,{className:"w-4 h-4"}),"Connexion"]})]}),e("button",{className:"md:hidden inline-flex items-center justify-center p-2 rounded-lg hover:bg-gray-100 text-gray-700",onClick:()=>l(i=>!i),"aria-label":"Ouvrir le menu",children:r?e(E,{className:"h-6 w-6"}):e(I,{className:"h-6 w-6"})})]}),r&&a("div",{className:"md:hidden bg-white border-t border-gray-200 px-4 py-3 space-y-3",children:[a("button",{onClick:d,className:"w-full inline-flex items-center gap-2 px-3 py-3 rounded-lg border border-gray-300 hover:bg-gray-50 text-left",children:[e(N,{className:"w-4 h-4 text-orange-600"}),e("span",{className:"font-medium",children:"Mes réservations"})]}),a("button",{onClick:x,className:"w-full inline-flex items-center gap-2 px-3 py-3 rounded-lg bg-orange-600 text-white hover:bg-orange-700 text-left",children:[e(C,{className:"w-4 h-4"}),e("span",{className:"font-medium",children:"Connexion"})]})]})]})},T=({label:s,value:r,onChange:l})=>{const[o,t]=c.useState([]),[n,u]=c.useState([]),[m,d]=c.useState(!1);c.useEffect(()=>{(async()=>{const g=await L(j(v,"villes"));t(g.docs.map(p=>p.data().nom))})()},[]);const x=i=>{l(i),i?(u(o.filter(g=>g.toLowerCase().startsWith(i.toLowerCase()))),d(!0)):(u([]),d(!1))};return a("div",{className:"flex-1 relative",children:[a("div",{className:"flex items-center border rounded px-3 py-2",children:[e(q,{className:"h-5 w-5 text-orange-500 mr-2"}),e("input",{type:"text",value:r,onChange:i=>x(i.target.value),placeholder:s,className:"flex-1 outline-none",required:!0})]}),m&&n.length>0&&e("ul",{className:"absolute z-10 bg-white border mt-1 rounded shadow w-full max-h-40 overflow-y-auto",children:n.map((i,g)=>e("li",{onClick:()=>{l(i),d(!1)},className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",children:i},g))})]})},H=()=>{const[s,r]=k.useState(""),[l,o]=k.useState(""),t=f();return e("section",{className:"relative text-white py-24 md:py-32",style:{background:`
          radial-gradient(circle at top left, rgba(249,115,22,0.25), transparent 60%),
          radial-gradient(circle at bottom right, rgba(255,102,0,0.25), transparent 70%),
          linear-gradient(180deg, #0d0d0d 0%, #1a1a1a 100%)
        `},children:a("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[a("h1",{className:"text-4xl md:text-6xl font-extrabold mb-6 leading-tight",children:["Voyagez avec ",e("span",{className:"text-orange-500",children:"Teliya"})]}),e("p",{className:"text-lg mb-8 text-gray-200",children:"Réservez vos billets en ligne, trouvez les meilleurs trajets en Afrique."}),a("form",{onSubmit:u=>{u.preventDefault();const m=(s||"").trim(),d=(l||"").trim();!m||!d||m.toLowerCase()!==d.toLowerCase()&&t("/resultats",{state:{departure:m,arrival:d}})},className:"bg-white text-gray-800 rounded-lg shadow-xl flex flex-col md:flex-row p-4 gap-4 max-w-3xl mx-auto",children:[e(T,{label:"Ville de départ",value:s,onChange:r}),e(T,{label:"Ville d’arrivée",value:l,onChange:o}),a("button",{type:"submit",className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded flex items-center justify-center transition-colors duration-200",children:[e(M,{className:"h-5 w-5 mr-2"})," Rechercher"]})]})]})})},O=()=>a("div",{className:"min-w-[120px] max-w-[120px] p-3",children:[e("div",{className:"skeleton rounded-full w-16 h-16 mx-auto mb-2"}),e("div",{className:"skeleton h-3 w-20 mx-auto rounded"})]}),_=()=>{const[s,r]=c.useState(null),l=f();c.useEffect(()=>{const t=requestIdleCallback(async()=>{try{const n=F(j(v,"companies"),S("publicPageEnabled","==",!0),S("status","==","actif")),m=(await L(n)).docs.map(d=>({id:d.id,...d.data()}));r(m)}catch{r([])}});return()=>cancelIdleCallback(t)},[]);const o=t=>{if(!t)return;const n=document.createElement("link");n.rel="preload",n.as="image",n.href=t,document.head.appendChild(n)};return a("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[e("h2",{className:"section-title",children:"Nos compagnies partenaires"}),e("div",{className:"flex gap-4 overflow-x-auto py-3",children:s===null?Array.from({length:4}).map((t,n)=>e(O,{},n)):s.length===0?null:s.map(t=>a(V.button,{whileHover:{scale:1.03},onMouseEnter:()=>o(t.logoUrl),onTouchStart:()=>o(t.logoUrl),onClick:()=>l(`/${t.slug}`),className:"min-w-[120px] max-w-[120px] bg-white rounded-2xl shadow-sm border p-3 hover:shadow-md transition",children:[e("div",{className:"w-16 h-16 mx-auto rounded-full overflow-hidden border-2 border-orange-500 shadow-sm mb-2",children:e("img",{src:t.logoUrl||"/default-logo.png",alt:t.nom,className:"w-full h-full object-cover img-fade logo",onLoad:n=>n.currentTarget.classList.add("is-loaded"),onError:n=>n.currentTarget.src="/default-logo.png",loading:"eager",decoding:"async"})}),e("p",{className:"text-xs font-semibold text-gray-800 truncate",children:t.nom}),t.pays&&e("p",{className:"text-[11px] text-gray-500",children:t.pays})]},t.id))})]})};function A({children:s,className:r=""}){return a("div",{className:`mb-6 ${r}`,children:[e("h2",{className:"text-orange-600 text-2xl md:text-3xl font-extrabold tracking-tight",children:s}),e("div",{className:"mt-2 h-1 w-16 bg-orange-500 rounded"})]})}const y=[{icon:R,title:"Sécurité",desc:"Paiements sécurisés et fiables"},{icon:U,title:"Rapidité",desc:"Réservez vos billets en quelques secondes"},{icon:z,title:"Couverture",desc:"Des trajets dans toute l’Afrique de l’Ouest"},{icon:D,title:"Économie",desc:"Les meilleurs prix garantis"}],G=()=>{const[s,r]=c.useState(0);c.useEffect(()=>{const o=setInterval(()=>r(t=>(t+1)%y.length),4e3);return()=>clearInterval(o)},[]);const l=y[s];return e("section",{className:"py-8 md:py-10 bg-gray-50",children:a("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[e(A,{className:"mb-3",children:"Pourquoi choisir Teliya"}),e("div",{className:"mx-auto max-w-md bg-white border border-orange-100 rounded-xl shadow-sm p-6",children:a("div",{className:"flex flex-col items-center gap-2",children:[e(l.icon,{className:"h-7 w-7 text-orange-600"}),e("h3",{className:"text-lg font-semibold text-gray-900",children:l.title}),e("p",{className:"text-sm text-gray-600",children:l.desc})]})}),e("div",{className:"mt-4 flex justify-center gap-2",children:y.map((o,t)=>e("button",{onClick:()=>r(t),className:`h-2 w-2 rounded-full ${s===t?"bg-orange-600":"bg-orange-200"}`,"aria-label":`Aller à la carte ${t+1}`},t))})]})})},w=[{name:"Fatoumata",text:"Teliya m’a permis d’économiser sur mes trajets.",city:"Bamako"},{name:"Jean-Paul",text:"Service client impeccable et rapide.",city:"Abidjan"},{name:"Aminata",text:"Réservation simple et efficace !",city:"Dakar"}],J=()=>{const[s,r]=c.useState(0);c.useEffect(()=>{const o=setInterval(()=>r(t=>(t+1)%w.length),5e3);return()=>clearInterval(o)},[]);const l=w[s];return e("section",{className:"py-8 md:py-10 bg-white",children:a("div",{className:"max-w-5xl mx-auto px-4 text-center",children:[e(A,{className:"mb-4",children:"Ils nous font confiance"}),a("div",{className:"mx-auto max-w-2xl bg-white border border-orange-100 rounded-xl shadow-sm p-6",children:[a("p",{className:"italic text-gray-700 mb-3",children:["“",l.text,"”"]}),e("p",{className:"font-semibold text-gray-900",children:l.name}),e("p",{className:"text-sm text-gray-500",children:l.city})]}),e("div",{className:"mt-4 flex justify-center gap-2",children:w.map((o,t)=>e("button",{onClick:()=>r(t),className:`h-2 w-2 rounded-full ${s===t?"bg-orange-600":"bg-orange-200"}`,"aria-label":`Témoignage ${t+1}`},t))})]})})},K=()=>a("div",{className:"max-w-4xl mx-auto text-center",children:[e("h2",{className:"text-2xl md:text-3xl font-extrabold mb-2",children:"Prêt à voyager avec Teliya ?"}),e("p",{className:"text-white/90 mb-6",children:"Réservez vos billets en ligne et profitez des meilleurs trajets en Afrique."}),e("button",{onClick:()=>{var r;(r=document.getElementById("search"))==null||r.scrollIntoView({behavior:"smooth",block:"start"})},className:"bg-white text-orange-600 px-6 py-3 rounded-xl font-semibold hover:bg-orange-50",children:"Commencer maintenant"})]}),Q=()=>e("footer",{className:"bg-gray-900 text-gray-400 py-6 text-center",children:a("p",{children:["© ",new Date().getFullYear()," Teliya – Tous droits réservés."]})}),W=({slug:s})=>{const r=f();return e("div",{className:"w-full flex justify-center",children:a("button",{onClick:()=>{r(s?`/${s}/mes-reservations`:"/mes-reservations")},className:"inline-flex items-center gap-2 px-5 py-3 rounded-xl font-semibold bg-orange-600 text-white shadow-md hover:bg-orange-700 transition",children:[e(N,{className:"h-5 w-5"}),"Voir mes réservations"]})})},te=()=>a("div",{className:"min-h-screen flex flex-col bg-white",children:[e(B,{}),a("main",{className:"flex-grow",children:[e(H,{}),e("section",{className:"py-6 px-4 max-w-5xl mx-auto",children:e(W,{})}),e("section",{className:"py-8 md:py-10",children:e(_,{})}),e("section",{className:"py-8 md:py-10 bg-gray-50",children:e(G,{})}),e("section",{className:"py-8 md:py-10",children:e(J,{})}),e("section",{className:"py-10 md:py-12 bg-orange-600 text-white",children:e(K,{})})]}),e(Q,{})]});export{te as default};
