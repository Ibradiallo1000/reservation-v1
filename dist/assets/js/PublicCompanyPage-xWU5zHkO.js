import{r as c,j as e,q as de,Y as ue,L as me,T as xe,I as he,F as fe,G as pe,s as ge,t as re,k as be,u as je,m as se,X as te,v as ye,S as ve,e as L,M as Q,f as Ne,w as ke,x as we,P as Ce}from"./react-Bg_vEni-.js";import{e as Se,f as O,n as $e,q as X,w as J,h as K}from"./firebase-C3aZpI0W.js";import{d as _}from"../index-Dgt8Lr4V.js";import{h as v,s as N}from"./color-DxN_zAQH.js";import{A as U}from"./index-BSsW4U9O.js";import{m as T}from"./proxy-iPI21ePR.js";import"./vendor-D_4iK-Jm.js";function Fe(r,s,t){var a=this,n=c.useRef(null),o=c.useRef(0),l=c.useRef(null),i=c.useRef([]),m=c.useRef(),x=c.useRef(),h=c.useRef(r),g=c.useRef(!0);h.current=r;var y=typeof window<"u",f=!s&&s!==0&&y;if(typeof r!="function")throw new TypeError("Expected a function");s=+s||0;var D=!!(t=t||{}).leading,P=!("trailing"in t)||!!t.trailing,k="maxWait"in t,A="debounceOnServer"in t&&!!t.debounceOnServer,$=k?Math.max(+t.maxWait||0,s):null;c.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var z=c.useMemo(function(){var E=function(p){var j=i.current,d=m.current;return i.current=m.current=null,o.current=p,x.current=h.current.apply(d,j)},I=function(p,j){f&&cancelAnimationFrame(l.current),l.current=f?requestAnimationFrame(p):setTimeout(p,j)},F=function(p){if(!g.current)return!1;var j=p-n.current;return!n.current||j>=s||j<0||k&&p-o.current>=$},R=function(p){return l.current=null,P&&i.current?E(p):(i.current=m.current=null,x.current)},w=function p(){var j=Date.now();if(F(j))return R(j);if(g.current){var d=s-(j-n.current),C=k?Math.min(d,$-(j-o.current)):d;I(p,C)}},M=function(){if(y||A){var p=Date.now(),j=F(p);if(i.current=[].slice.call(arguments),m.current=a,n.current=p,j){if(!l.current&&g.current)return o.current=n.current,I(w,s),D?E(n.current):x.current;if(k)return I(w,s),E(n.current)}return l.current||I(w,s),x.current}};return M.cancel=function(){l.current&&(f?cancelAnimationFrame(l.current):clearTimeout(l.current)),o.current=0,i.current=n.current=m.current=l.current=null},M.isPending=function(){return!!l.current},M.flush=function(){return l.current?R(Date.now()):x.current},M},[D,k,s,$,P,f,y,A]);return z}function Me(r,s){return r===s}function Z(r,s,t){var a=Me,n=c.useRef(r),o=c.useState({})[1],l=Fe(c.useCallback(function(m){n.current=m,o({})},[o]),s,t),i=c.useRef(r);return a(i.current,r)||(l(r),i.current=r),[n.current,l]}const Ae=r=>{const s={moderne:{colors:{primary:"#3B82F6",secondary:"#10B981",background:"#F9FAFB",text:"#111827"},typography:"sans-serif",buttons:"rounded-lg",effects:"shadow-md hover:shadow-lg",borders:"rounded-lg",animations:"transition-all duration-300"},classique:{colors:{primary:"#2563EB",secondary:"#1E40AF",background:"#FFFFFF",text:"#1F2937"},typography:"serif",buttons:"rounded-sm",effects:"shadow-sm",borders:"border",animations:"transition-colors duration-200"},sombre:{colors:{primary:"#F59E0B",secondary:"#F97316",background:"#111827",text:"#F3F4F6"},typography:"sans-serif",buttons:"rounded-md",effects:"shadow-lg",borders:"border border-gray-700",animations:"transition-transform duration-300"},contraste:{colors:{primary:"#EF4444",secondary:"#F59E0B",background:"#FFFFFF",text:"#000000"},typography:"sans-serif",buttons:"rounded-full",effects:"shadow-xl",borders:"border-2 border-black",animations:"hover:scale-105 transition-transform"},minimaliste:{colors:{primary:"#6B7280",secondary:"#9CA3AF",background:"#FFFFFF",text:"#374151"},typography:"sans-serif",buttons:"",effects:"",borders:"",animations:""},glassmorphism:{colors:{primary:"rgba(59, 130, 246, 0.8)",secondary:"rgba(16, 185, 129, 0.8)",background:"rgba(255, 255, 255, 0.1)",text:"#FFFFFF"},typography:"sans-serif",buttons:"rounded-lg backdrop-blur-md",effects:"backdrop-filter backdrop-blur-lg bg-opacity-20",borders:"border border-white border-opacity-20",animations:"transition-all duration-500"}};return s[r]||s.moderne},Ee={facebook:fe,instagram:he,twitter:xe,linkedin:me,youtube:ue,tiktok:de},B=({url:r,platform:s,primaryColor:t="#3B82F6"})=>{const a=Ee[s]||pe;return e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-full hover:bg-opacity-10",style:{color:t},"aria-label":`Suivez-nous sur ${s}`,children:e.jsx(a,{size:24})})},Ie=({primaryColor:r})=>{const[s,t]=c.useState(""),[a,n]=c.useState(""),[o,l]=c.useState(""),[i,m]=c.useState(!1),x=h=>{h.preventDefault(),console.log("Formulaire envoyÃ©:",{nom:s,email:a,message:o}),m(!0),t(""),n(""),l("")};return e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i&&e.jsx("div",{className:"p-3 rounded bg-green-100 text-green-700",children:"Merci pour votre message. Nous vous rÃ©pondrons bientÃ´t."}),e.jsx("input",{required:!0,value:s,onChange:h=>t(h.target.value),placeholder:"Votre nom",className:"w-full p-2 border rounded"}),e.jsx("input",{required:!0,type:"email",value:a,onChange:h=>n(h.target.value),placeholder:"Votre email",className:"w-full p-2 border rounded"}),e.jsx("textarea",{required:!0,value:o,onChange:h=>l(h.target.value),placeholder:"Votre message",className:"w-full p-2 border rounded min-h-[120px]"}),e.jsx("button",{type:"submit",className:"px-4 py-2 font-semibold text-white rounded",style:{backgroundColor:r},children:"Envoyer"})]})},Te=({contacts:r})=>{var s,t,a,n,o,l;return e.jsxs("div",{className:"text-sm space-y-2",children:[(r==null?void 0:r.email)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",e.jsx("a",{href:`mailto:${r.email}`,className:"text-blue-600 hover:underline",children:r.email})]}),(r==null?void 0:r.phone)&&e.jsxs("p",{children:[e.jsx("strong",{children:"TÃ©lÃ©phone:"})," ",e.jsx("a",{href:`tel:${r.phone}`,className:"text-green-600 hover:underline",children:r.phone})]}),((s=r==null?void 0:r.socialMedia)==null?void 0:s.facebook)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Facebook:"})," ",e.jsx("a",{href:r.socialMedia.facebook,target:"_blank",rel:"noreferrer",className:"text-blue-600 hover:underline",children:r.socialMedia.facebook})]}),((t=r==null?void 0:r.socialMedia)==null?void 0:t.instagram)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Instagram:"})," ",e.jsx("a",{href:r.socialMedia.instagram,target:"_blank",rel:"noreferrer",className:"text-pink-600 hover:underline",children:r.socialMedia.instagram})]}),((a=r==null?void 0:r.socialMedia)==null?void 0:a.twitter)&&e.jsxs("p",{children:[e.jsx("strong",{children:"Twitter:"})," ",e.jsx("a",{href:r.socialMedia.twitter,target:"_blank",rel:"noreferrer",className:"text-blue-400 hover:underline",children:r.socialMedia.twitter})]}),((n=r==null?void 0:r.socialMedia)==null?void 0:n.linkedin)&&e.jsxs("p",{children:[e.jsx("strong",{children:"LinkedIn:"})," ",e.jsx("a",{href:r.socialMedia.linkedin,target:"_blank",rel:"noreferrer",className:"text-blue-700 hover:underline",children:r.socialMedia.linkedin})]}),((o=r==null?void 0:r.socialMedia)==null?void 0:o.youtube)&&e.jsxs("p",{children:[e.jsx("strong",{children:"YouTube:"})," ",e.jsx("a",{href:r.socialMedia.youtube,target:"_blank",rel:"noreferrer",className:"text-red-600 hover:underline",children:r.socialMedia.youtube})]}),((l=r==null?void 0:r.socialMedia)==null?void 0:l.tiktok)&&e.jsxs("p",{children:[e.jsx("strong",{children:"TikTok:"})," ",e.jsx("a",{href:r.socialMedia.tiktok,target:"_blank",rel:"noreferrer",className:"text-black hover:underline",children:r.socialMedia.tiktok})]})]})},Le=({companyId:r,onSuccess:s})=>{const[t,a]=c.useState(""),[n,o]=c.useState(0),[l,i]=c.useState(""),[m,x]=c.useState(null),[h,g]=c.useState(!1),y=async f=>{if(f.preventDefault(),!t.trim()||n<1||!l.trim()){x("Veuillez remplir tous les champs et choisir une note.");return}try{g(!0),await Se(O(_,"avis"),{nom:t,note:n,commentaire:l,visible:!1,companyId:r,createdAt:$e()}),x("Merci pour votre avis ! Il sera publiÃ© aprÃ¨s validation."),a(""),o(0),i(""),s&&s()}catch(D){console.error(D),x("Erreur lors de l'envoi. Veuillez rÃ©essayer.")}finally{g(!1)}};return e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[m&&e.jsx("p",{className:"text-sm text-gray-600 italic",children:m}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Votre nom"}),e.jsx("input",{type:"text",value:t,onChange:f=>a(f.target.value),className:"w-full border px-3 py-2 rounded",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Votre note"}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(f=>e.jsx(ge,{onClick:()=>o(f),className:`h-6 w-6 cursor-pointer ${f<=n?"text-yellow-400":"text-gray-300"}`,fill:f<=n?"#facc15":"none"},f))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Votre avis"}),e.jsx("textarea",{value:l,onChange:f=>i(f.target.value),className:"w-full border px-3 py-2 rounded",rows:4,required:!0})]}),e.jsx("button",{type:"submit",disabled:h,className:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700",children:h?"Envoi en cours...":"Envoyer mon avis"})]})},De=()=>{const{i18n:r}=re(),s=t=>{r.changeLanguage(t)};return e.jsxs("div",{className:"flex gap-2 text-sm",children:[e.jsx("button",{onClick:()=>s("fr"),className:"hover:underline",children:"ðŸ‡«ðŸ‡·"}),e.jsx("button",{onClick:()=>s("en"),className:"hover:underline",children:"ðŸ‡¬ðŸ‡§"})]})},Xe=()=>{var Y,H;const{slug:r}=be();console.log("ðŸ“¦ Slug extrait via useParams:",r);const s=je(),{t}=re(),[a,n]=c.useState(null),[o,l]=c.useState(""),[i,m]=c.useState(""),[x,h]=c.useState([]),[g,y]=c.useState(0),[f,D]=c.useState({}),[P,k]=c.useState(!1),[A,$]=c.useState(!1),[z,E]=c.useState(!0),[I,F]=c.useState(null),[R,w]=c.useState({departure:[],arrival:[]}),[M]=Z(o,300),[p]=Z(i,300),j=c.useCallback(async()=>{if(console.log("Valeur du slug reÃ§ue :",r),!r||r.trim()===""){console.warn("Le slug est manquant ou vide"),F(t("companyNotFound")),E(!1);return}try{E(!0);const u=X(O(_,"companies"),J("slug","==",r)),b=await K(u);if(b.empty){console.warn(`Aucune compagnie trouvÃ©e pour le slug : ${r}`),F(t("companyNotFound"));return}const S=b.docs[0],V=S.data();if(!V||typeof V!="object"){console.warn("DonnÃ©es de compagnie invalides"),F(t("loadingError"));return}const le={id:S.id,...V};n(le);const oe=X(O(_,"agences"),J("companyId","==",S.id)),ce=await K(oe);h(ce.docs.map(G=>({id:G.id,...G.data()})))}catch(u){console.error("Erreur de chargement:",u),F(t("loadingError"))}finally{E(!1)}},[r,t]);c.useEffect(()=>{j()},[j]),c.useEffect(()=>{const u=a==null?void 0:a.imagesSlider;if(!Array.isArray(u)||u.length===0)return;const b=setInterval(()=>{y(S=>(S+1)%u.length)},5e3);return()=>clearInterval(b)},[a]),c.useEffect(()=>{if(M.length>1){const u=["Abidjan","Abobo","AdjamÃ©","BouakÃ©","Bondoukou"];w(b=>({...b,departure:u.filter(S=>S.toLowerCase().includes(M.toLowerCase()))}))}else w(u=>({...u,departure:[]}))},[M]),c.useEffect(()=>{if(p.length>1){const u=["Ouagadougou","OdiennÃ©","Ouangolodougou","Bobo-Dioulasso","Banfora"];w(b=>({...b,arrival:u.filter(S=>S.toLowerCase().includes(p.toLowerCase()))}))}else w(u=>({...u,arrival:[]}))},[p]);const{colors:d,classes:C,config:q}=Oe(a),W=u=>/[<>$]/.test(u)?!1:u.trim().length>1,ae=u=>{if(u.preventDefault(),!W(o)||!W(i)){F(t("invalidCity"));return}s(`/compagnie/${r}/resultats`,{state:{departure:o.trim(),arrival:i.trim(),companyInfo:a}})},ne=u=>{D(b=>({...b,[u]:!b[u]}))},ie=c.useMemo(()=>x.reduce((u,b)=>(u[b.ville]||(u[b.ville]=[]),u[b.ville].push(b),u),{}),[x]);return z?e.jsx("div",{className:"flex items-center justify-center min-h-screen",style:{background:d.background},children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:d.primary}})}):I?e.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 text-center",style:{background:d.background,color:d.text},children:e.jsxs("div",{className:`p-4 rounded-lg max-w-md ${C.card}`,children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:t("error")}),e.jsx("p",{children:I}),e.jsx("button",{onClick:()=>s("/"),className:`mt-4 px-4 py-2 rounded ${C.button}`,style:{backgroundColor:d.primary,color:d.text},children:t("backToHome")})]})}):a?r?e.jsxs("div",{className:`min-h-screen flex flex-col ${q.typography}`,style:{background:d.background,color:d.text},children:[e.jsxs("header",{className:`sticky top-0 z-50 px-4 py-3 ${C.header}`,style:{backgroundColor:v(d.primary,.95),backdropFilter:"blur(10px)"},children:[e.jsxs("div",{className:"flex justify-between items-center max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se.LazyLoadImage,{src:a.logoUrl,alt:`Logo ${((Y=a.nom)==null?void 0:Y.trim())||t("unavailable")}`,effect:"blur",className:"h-10 w-10 rounded-full object-cover border-2",style:{borderColor:N(d.primary),backgroundColor:v(d.primary,.2)}}),e.jsx("h1",{className:"text-xl font-bold tracking-tight",style:{color:N(d.primary),textShadow:"0 1px 3px rgba(0,0,0,0.5)"},children:((H=a.nom)==null?void 0:H.trim())||t("unavailable")}),e.jsx("div",{className:"ml-4 hidden md:block",children:e.jsx(De,{})})]}),e.jsx("div",{className:"md:hidden flex items-center",children:e.jsx("button",{onClick:()=>$(!A),className:`p-2 rounded-md transition-all ${A?"bg-white/10":""}`,style:{color:N(d.primary),border:`1px solid ${v(N(d.primary),.2)}`},"aria-label":"Menu",children:A?e.jsx(te,{className:"h-6 w-6",strokeWidth:2.5}):e.jsx(ye,{className:"h-6 w-6",strokeWidth:2.5})})}),e.jsxs("nav",{className:"hidden md:flex gap-6 items-center text-sm",children:[e.jsx("button",{onClick:()=>k(!0),className:`font-medium ${q.animations}`,style:{color:N(d.primary)},children:t("ourAgencies")}),e.jsx("button",{onClick:()=>s(`/compagnie/${r}/mes-reservations`),className:`font-medium ${q.animations}`,style:{color:N(d.primary)},children:t("myBookings")}),e.jsx("button",{onClick:()=>s(`/compagnie/${r}/contact`),className:`font-medium ${q.animations}`,style:{color:N(d.primary)},children:t("contact")}),e.jsx("button",{onClick:()=>s("/login"),className:`p-2 rounded-full ${C.button}`,style:{backgroundColor:d.secondary||v(N(d.primary),.2),color:N(d.primary)},"aria-label":t("login"),title:t("login"),children:e.jsx(ve,{className:"h-5 w-5"})})]})]}),e.jsx(U,{children:A&&e.jsx(qe,{onClose:()=>$(!1),onNavigate:u=>{s(u),$(!1)},onShowAgencies:()=>{k(!0),$(!1)},slug:r||"",colors:d,classes:C,config:q,t})})]}),e.jsx(Be,{company:a,departure:o,arrival:i,suggestions:R,setDeparture:l,setArrival:m,handleSubmit:ae,colors:d,classes:C,t,setSuggestions:w}),a.imagesSlider&&a.imagesSlider.length>0&&e.jsx(Pe,{images:a.imagesSlider,sliderIndex:g,setSliderIndex:y,primaryColor:d.primary,companyName:a.nom,config:q}),e.jsx(U,{children:P&&e.jsx(Re,{groupedByVille:ie,openVilles:f,toggleVille:ne,onClose:()=>k(!1),primaryColor:d.primary,classes:C,t})}),e.jsx(Ve,{company:a,slug:r,primaryColor:d.primary,t})]}):e.jsx("div",{className:"text-center p-8",children:e.jsx("p",{children:"Slug manquant. Veuillez rÃ©essayer plus tard."})}):(console.log("â›” Company est null. Pas de rendu possible."),e.jsx("div",{className:"text-center p-10 text-red-500",children:"Impossible de charger les donnÃ©es. VÃ©rifiez le lien ou rÃ©essayez plus tard."}))},qe=L.memo(({onClose:r,onNavigate:s,onShowAgencies:t,slug:a,colors:n,classes:o,config:l,t:i})=>e.jsx(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"md:hidden absolute top-16 right-4 w-64 z-50",children:e.jsx("div",{className:`rounded-lg shadow-xl p-4 ${o.card}`,style:{backgroundColor:v(n.background,.95),backdropFilter:"blur(10px)",border:`1px solid ${v(n.primary,.1)}`},children:e.jsxs("nav",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:t,className:`text-left px-4 py-2 rounded-md font-medium ${l.animations}`,style:{color:n.primary,backgroundColor:v(n.primary,.1)},children:i("ourAgencies")}),e.jsx("button",{onClick:()=>s(`/compagnie/${a}/mes-reservations`),className:`text-left px-4 py-2 rounded-md font-medium ${l.animations}`,style:{color:n.primary,backgroundColor:v(n.primary,.1)},children:i("myBookings")}),e.jsx("button",{onClick:()=>s(`/compagnie/${a}/contact`),className:`text-left px-4 py-2 rounded-md font-medium ${l.animations}`,style:{color:n.primary,backgroundColor:v(n.primary,.1)},children:i("contact")}),e.jsx("div",{className:"border-t my-2",style:{borderColor:v(n.primary,.1)}}),e.jsx("button",{onClick:()=>s("/login"),className:`text-left px-4 py-2 rounded-md font-medium ${l.animations}`,style:{color:N(n.primary),backgroundColor:n.primary},children:i("login")})]})})})),Be=L.memo(({company:r,departure:s,arrival:t,suggestions:a,setDeparture:n,setArrival:o,setSuggestions:l,handleSubmit:i,colors:m,classes:x,t:h})=>e.jsx("section",{className:"relative bg-cover bg-center h-[400px] md:h-[500px]",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.4)), url(${r.banniereUrl})`},children:e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-center items-center text-center px-4",children:[e.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl",children:e.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-3 text-white drop-shadow-md",children:h("searchTitle")})}),e.jsx(T.form,{onSubmit:i,initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"bg-white/00 backdrop-blur-md shadow-lg rounded-xl p-6 w-full max-w-md mx-4 mt-4 border border-white/20",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(ee,{label:h("departureCity"),value:s,onChange:n,suggestions:a.departure,onSelectSuggestion:g=>{n(g),l(y=>({...y,departure:[]}))},icon:e.jsx(Q,{className:"h-5 w-5 text-white/80"}),placeholder:h("departurePlaceholder"),classes:x}),e.jsx(ee,{label:h("arrivalCity"),value:t,onChange:o,suggestions:a.arrival,onSelectSuggestion:g=>{o(g),l(y=>({...y,departure:[]}))},icon:e.jsx(Q,{className:"h-5 w-5 text-white/80"}),placeholder:h("arrivalPlaceholder"),classes:x}),e.jsxs(T.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-3 font-bold flex items-center justify-center rounded-lg ${x.button}`,style:{backgroundColor:m.primary,color:m.text,boxShadow:`0 4px 14px 0 ${v(m.primary,.4)}`},children:[e.jsx(Ne,{className:"h-5 w-5 mr-2"}),h("searchTrip")]})]})})]})})),ee=L.memo(({label:r,value:s,onChange:t,suggestions:a,onSelectSuggestion:n,icon:o,placeholder:l,classes:i})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/90 mb-1",children:r}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:o}),e.jsx("input",{type:"text",value:s,onChange:m=>t(m.target.value),required:!0,placeholder:l,className:`pl-10 w-full bg-white/20 h-12 rounded-lg text-base text-white placeholder-white/60 ${i.input}`}),a.length>0&&e.jsx("ul",{className:"absolute z-10 mt-1 w-full bg-white rounded-md shadow-lg max-h-60 overflow-auto",children:a.map((m,x)=>e.jsx("li",{children:e.jsx("button",{type:"button",onClick:()=>n(m),className:"w-full text-left px-4 py-2 hover:bg-gray-100 text-gray-800",children:m})},x))})]})]})),Pe=L.memo(({images:r,sliderIndex:s,setSliderIndex:t,primaryColor:a,companyName:n,config:o})=>e.jsxs("section",{className:"w-full max-w-6xl mx-auto mt-12 px-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",style:{color:a},children:n?`DÃ©couvrez ${n}`:"DÃ©couvrez notre compagnie"}),e.jsxs("div",{className:`relative overflow-hidden rounded-xl ${o.effects} h-80`,children:[r.map((l,i)=>e.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ${i===s?"opacity-100":"opacity-0"}`,children:e.jsx(se.LazyLoadImage,{src:l,alt:`Slide ${i+1}`,effect:"blur",className:"w-full h-full object-cover"})},i)),e.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:r.map((l,i)=>e.jsx("button",{onClick:()=>t(i),className:`w-3 h-3 rounded-full transition ${i===s?"bg-white":"bg-white/50"}`,"aria-label":`Aller au slide ${i+1}`},i))})]})]})),Re=L.memo(({groupedByVille:r,openVilles:s,toggleVille:t,onClose:a,primaryColor:n,classes:o,t:l})=>e.jsx(T.section,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"max-w-6xl mx-auto mt-12 px-4 pb-12",children:e.jsxs("div",{className:`${o.card} p-6`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",style:{color:n},children:l("ourAgencies")}),e.jsx("button",{onClick:a,className:`p-2 rounded-full ${o.animations}`,style:{color:n},"aria-label":l("close"),children:e.jsx(te,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"space-y-6",children:Object.entries(r).map(([i,m])=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>t(i),className:`flex items-center justify-between w-full text-left px-5 py-3 ${o.animations} ${s[i]?o.card:`hover:${o.card}`}`,style:{border:`1px solid ${s[i]?n:v(n,.2)}`,backgroundColor:s[i]?v(n,.1):"transparent"},children:[e.jsx("span",{className:"font-semibold text-lg",children:i}),s[i]?e.jsx(ke,{style:{color:n}}):e.jsx(we,{style:{color:n}})]}),e.jsx(U,{children:s[i]&&e.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"mt-3 space-y-3 pl-4",children:m.map(x=>e.jsx(ze,{agence:x,primaryColor:n,classes:o,t:l},x.id))})})})]},i))})]})})),ze=L.memo(({agence:r,primaryColor:s,classes:t,t:a})=>e.jsxs(T.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},className:`${t.card} p-4 cursor-pointer`,children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s}}),r.nomAgence]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2 text-sm",children:[e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:[a("country"),":"]})," ",r.pays]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:[a("district"),":"]})," ",r.quartier||"â€”"]}),e.jsxs("p",{children:[e.jsxs("span",{className:"font-medium",children:[a("address"),":"]})," ",r.adresse||a("notSpecified")]}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[a("phone"),":"]})," ",r.telephone||"â€”"]})]})]})),Ve=L.memo(({company:r,slug:s,primaryColor:t,t:a})=>{var n,o,l,i,m,x,h,g,y,f;return e.jsxs("footer",{className:"mt-auto bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-12 grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:a("about")}),e.jsx("p",{children:r.description||a("welcomeTransport")})]}),((n=r.footerConfig)==null?void 0:n.showSocialMedia)&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:a("followUs")}),e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[((o=r.socialMedia)==null?void 0:o.facebook)&&e.jsx(B,{url:r.socialMedia.facebook,platform:"facebook",primaryColor:t}),((l=r.socialMedia)==null?void 0:l.instagram)&&e.jsx(B,{url:r.socialMedia.instagram,platform:"instagram",primaryColor:t}),((i=r.socialMedia)==null?void 0:i.tiktok)&&e.jsx(B,{url:r.socialMedia.tiktok,platform:"tiktok",primaryColor:t}),((m=r.socialMedia)==null?void 0:m.linkedin)&&e.jsx(B,{url:r.socialMedia.linkedin,platform:"linkedin",primaryColor:t}),((x=r.socialMedia)==null?void 0:x.twitter)&&e.jsx(B,{url:r.socialMedia.twitter,platform:"twitter",primaryColor:t}),((h=r.socialMedia)==null?void 0:h.youtube)&&e.jsx(B,{url:r.socialMedia.youtube,platform:"youtube",primaryColor:t})]})]}),((g=r.footerConfig)==null?void 0:g.showTestimonials)&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:a("customerReviews")}),e.jsx(Le,{companyId:r.id,onSuccess:()=>{}})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:a("contact")}),(y=r.footerConfig)!=null&&y.showContactForm?e.jsx(Ie,{primaryColor:t}):e.jsx(Te,{contacts:{email:r.email,phone:r.telephone,socialMedia:r.socialMedia}})]})]}),((f=r.footerConfig)==null?void 0:f.showLegalLinks)&&e.jsxs("div",{className:"border-t mt-8 pt-4 text-center text-sm text-gray-500",children:[e.jsxs("div",{className:"flex justify-center gap-6 flex-wrap",children:[e.jsx("a",{href:`/compagnie/${s}/mentions`,className:"hover:underline",children:a("legalMentions")}),e.jsx("a",{href:`/compagnie/${s}/confidentialite`,className:"hover:underline",children:a("privacyPolicy")})]}),e.jsxs("p",{className:"mt-2",children:["Â© ",new Date().getFullYear()," ",r.nom||a("ourCompany")," â€” ",a("allRightsReserved")]})]})]})}),Oe=r=>c.useMemo(()=>{const s=Ae((r==null?void 0:r.themeStyle)||"moderne"),t=(r==null?void 0:r.couleurPrimaire)||s.colors.primary,a=(r==null?void 0:r.couleurSecondaire)||s.colors.secondary;return{config:s,colors:{primary:t,secondary:a,text:N(t),background:s.colors.background},classes:{background:s.colors.background,text:s.colors.text,card:s.effects.includes("bg-opacity")?`${s.effects} ${s.borders}`:`bg-white ${s.effects} ${s.borders}`,button:`${s.buttons} ${s.animations}`,input:`${s.borders} ${s.animations}`,header:s.effects.includes("backdrop-filter")?`${s.effects} ${s.borders}`:`bg-white ${s.effects} ${s.borders}`,animations:s.animations}}},[r]);export{Xe as default};
