const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/vendor-Bq-8_m9i.js","assets/js/compagnie-DiuZFnHS.js","assets/js/firebase-CURBI7X6.js","assets/js/agence-Bsj2lp2X.js","assets/js/router-DoGdw-3y.js","assets/js/icons-C0JHUK9Z.js","assets/js/courier-CoQgRaHG.js","assets/css/vendor-DroWa5sQ.css"])))=>i.map(i=>d[i]);
import{_ as w}from"./compagnie-DiuZFnHS.js";import"./vendor-Bq-8_m9i.js";import"./firebase-CURBI7X6.js";import"./agence-Bsj2lp2X.js";import"./router-DoGdw-3y.js";import"./icons-C0JHUK9Z.js";import"./courier-CoQgRaHG.js";function x(d={}){const{immediate:m=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:c,onRegisteredSW:p,onRegisterError:r}=d;let e,l,a;const u=async(t=!0)=>{await l,a==null||a()};async function _(){if("serviceWorker"in navigator){if(e=await w(async()=>{const{Workbox:t}=await import("./vendor-Bq-8_m9i.js").then(o=>o.aw);return{Workbox:t}},__vite__mapDeps([0,1,2,3,4,5,6,7])).then(({Workbox:t})=>new t("/sw.js",{scope:"/",type:"classic"})).catch(t=>{r==null||r(t)}),!e)return;a=()=>{e==null||e.messageSkipWaiting()};{let t=!1;const o=()=>{t=!0,e==null||e.addEventListener("controlling",s=>{s.isUpdate&&window.location.reload()}),n==null||n()};e.addEventListener("installed",s=>{typeof s.isUpdate>"u"?typeof s.isExternal<"u"&&s.isExternal?o():!t&&(i==null||i()):s.isUpdate||i==null||i()}),e.addEventListener("waiting",o)}e.register({immediate:m}).then(t=>{p?p("/sw.js",t):c==null||c(t)}).catch(t=>{r==null||r(t)})}}return l=_(),u}export{x as registerSW};
