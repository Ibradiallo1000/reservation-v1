import{r as c,j as e,a2 as I,a3 as q,a4 as S,a5 as $,W as y,a6 as B,a7 as V,a8 as P,a9 as R,aa as O,ab as K}from"./react-CdtEOh9s.js";import{q as F,f as k,w as _,h as E,d as f,c as A,u as U,e as G,r as W}from"./firebase-C3aZpI0W.js";import{d as b,u as M,a as T}from"../index-BEWNaqTF.js";import{A as z}from"./index-BtlyamDW.js";import{m as D}from"./proxy-BQcP-8RT.js";import"./vendor-D_1n0kdO.js";const Z=({companyId:s,onSelect:a,onClose:m})=>{const[n,x]=c.useState([]),[d,i]=c.useState(!0);return c.useEffect(()=>{(async()=>{try{const t=F(k(b,"imagesBibliotheque"),_("companyId","==",s)),h=(await E(t)).docs.map(u=>({id:u.id,...u.data()}));x(h)}catch(t){console.error("Erreur lors de la récupération des images :",t)}i(!1)})()},[s]),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-bold",children:"Choisir une image"}),e.jsx("button",{onClick:m,className:"text-gray-500 hover:text-red-500 text-sm",children:"✖ Fermer"})]}),d?e.jsx("p",{children:"Chargement..."}):n.length===0?e.jsx("p",{className:"text-gray-500",children:"Aucune image trouvée pour cette compagnie."}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.map(o=>e.jsxs("div",{className:"border rounded overflow-hidden shadow hover:shadow-lg cursor-pointer",onClick:()=>a(o.url),children:[e.jsx("img",{src:o.url,alt:o.nom,className:"w-full h-32 object-cover"}),e.jsx("div",{className:"p-2 text-sm text-center truncate",children:o.nom})]},o.id))})]})})},H=()=>{const{user:s}=M(),[a,m]=c.useState({nom:"",telephone:"",description:"",logoUrl:"",faviconUrl:"",banniereUrl:"",imagesSlider:[],couleurPrimaire:"#3B82F6",couleurSecondaire:"#10B981",themeStyle:"moderne",police:"sans-serif",socialMedia:{facebook:"",instagram:"",whatsapp:"",tiktok:"",linkedin:"",youtube:""},footerConfig:{showSocialMedia:!0,showTestimonials:!0,showLegalLinks:!0,showContactForm:!0,customLinks:[]}}),[n,x]=c.useState({text:"",type:""}),[d,i]=c.useState(null),[o,t]=c.useState(null),g=[{name:"moderne",value:"moderne",description:"Style contemporain avec couleurs vives",icon:e.jsx(S,{size:16})},{name:"classique",value:"classique",description:"Style traditionnel épuré",icon:e.jsx(R,{size:16})},{name:"sombre",value:"sombre",description:"Mode nuit élégant",icon:e.jsx(O,{size:16})},{name:"contraste",value:"contraste",description:"Fort impact visuel",icon:e.jsx(K,{size:16})},{name:"minimaliste",value:"minimaliste",description:"Design ultra épuré",icon:e.jsx(R,{size:16})},{name:"glassmorphism",value:"glassmorphism",description:"Effets de transparence moderne",icon:e.jsx(S,{size:16})}];c.useEffect(()=>{s!=null&&s.companyId&&(async()=>{const p=f(b,"companies",s.companyId),j=await A(p);j.exists()&&m(l=>({...l,...j.data()}))})()},[s]);const h=async()=>{if(s!=null&&s.companyId){x({text:"Enregistrement en cours...",type:"info"});try{const r=f(b,"companies",s.companyId);await U(r,a),x({text:"Modifications enregistrées avec succès",type:"success"})}catch(r){console.error("Erreur d'enregistrement:",r),x({text:"Échec de l'enregistrement. Veuillez réessayer.",type:"error"})}}},u=r=>{const{name:p,value:j}=r.target;m(l=>({...l,[p]:j}))},v=r=>{d&&(m(p=>({...p,...d==="logo"&&{logoUrl:r},...d==="favicon"&&{faviconUrl:r},...d==="banniereStatique"&&{banniereUrl:r},...d==="banniere"&&{imagesSlider:[...p.imagesSlider,r]}})),i(null))},N=r=>{m(p=>({...p,imagesSlider:p.imagesSlider.filter((j,l)=>l!==r)}))};return e.jsxs("div",{className:"max-w-5xl mx-auto p-6 bg-white rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Personnalisation de la vitrine"}),e.jsx(z,{children:n.text&&e.jsx(D.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`fixed top-4 right-4 p-4 rounded-md shadow-lg z-50 ${n.type==="success"?"bg-green-100 text-green-800 border-l-4 border-green-500":n.type==="error"?"bg-red-100 text-red-800 border-l-4 border-red-500":"bg-blue-100 text-blue-800 border-l-4 border-blue-500"}`,children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[n.type==="success"?e.jsx(I,{className:"h-6 w-6 mr-2"}):n.type==="error"?e.jsx(q,{className:"h-6 w-6 mr-2"}):e.jsx("div",{className:"h-6 w-6 mr-2 animate-spin rounded-full border-t-2 border-b-2 border-blue-500"}),e.jsx("span",{children:n.text})]}),n.type==="success"&&e.jsx("button",{onClick:()=>x({text:"",type:""}),className:"text-sm underline text-green-800 hover:text-green-900",type:"button",children:"OK"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b pb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(S,{size:18}),"Identité visuelle"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur principale"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-md cursor-pointer border",style:{backgroundColor:a.couleurPrimaire},onClick:()=>t("primary")}),o==="primary"&&e.jsxs("div",{className:"absolute z-10 mt-2 bg-white p-2 rounded-md shadow-xl",children:[e.jsx($,{color:a.couleurPrimaire,onChange:r=>m({...a,couleurPrimaire:r})}),e.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[e.jsx("input",{type:"text",value:a.couleurPrimaire,onChange:r=>m({...a,couleurPrimaire:r.target.value}),className:"text-sm border rounded px-2 py-1 w-24"}),e.jsx("button",{onClick:()=>t(null),className:"text-sm bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded",children:"Valider"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur secondaire"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-md cursor-pointer border",style:{backgroundColor:a.couleurSecondaire},onClick:()=>t("secondary")}),o==="secondary"&&e.jsxs("div",{className:"absolute z-10 mt-2 bg-white p-2 rounded-md shadow-xl",children:[e.jsx($,{color:a.couleurSecondaire,onChange:r=>m({...a,couleurSecondaire:r})}),e.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[e.jsx("input",{type:"text",value:a.couleurSecondaire,onChange:r=>m({...a,couleurSecondaire:r.target.value}),className:"text-sm border rounded px-2 py-1 w-24"}),e.jsx("button",{onClick:()=>t(null),className:"text-sm bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded",children:"Valider"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Police de caractères"}),e.jsxs("select",{name:"police",value:a.police,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",children:[e.jsx("option",{value:"sans-serif",children:"Moderne (sans-serif)"}),e.jsx("option",{value:"serif",children:"Classique (serif)"}),e.jsx("option",{value:"monospace",children:"Technique (monospace)"})]})]})]})]}),e.jsxs("div",{className:"border-b pb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(y,{size:18}),"Images"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo"}),a.logoUrl?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:a.logoUrl,alt:"Logo",className:"h-16 w-16 object-contain"}),e.jsx("button",{onClick:()=>i("logo"),className:"text-sm bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded",children:"Changer"})]}):e.jsxs("button",{onClick:()=>i("logo"),className:"w-full py-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center text-gray-400 hover:text-gray-600 hover:border-gray-400",children:[e.jsx(y,{className:"mb-1"}),e.jsx("span",{children:"Ajouter un logo"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Favicon"}),a.faviconUrl?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:a.faviconUrl,alt:"Favicon",className:"h-8 w-8 object-contain"}),e.jsx("button",{onClick:()=>i("favicon"),className:"text-sm bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded",children:"Changer"})]}):e.jsxs("button",{onClick:()=>i("favicon"),className:"w-full py-4 border-2 border-dashed rounded-lg flex flex-col items-center justify-center text-gray-400 hover:text-gray-600 hover:border-gray-400",children:[e.jsx(y,{className:"mb-1"}),e.jsx("span",{children:"Ajouter un favicon"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b pb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(S,{size:18}),"Thème graphique"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.map(r=>e.jsxs("div",{onClick:()=>m({...a,themeStyle:r.value}),className:`p-3 border rounded-lg cursor-pointer transition-all ${a.themeStyle===r.value?"ring-2 ring-yellow-500 border-transparent":"hover:shadow-md"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.icon,e.jsx("span",{className:"capitalize font-medium",children:r.name})]}),e.jsx("p",{className:"text-xs text-gray-500",children:r.description})]},r.value))})]}),e.jsxs("div",{className:"border-b pb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(y,{size:18}),"Bannière"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image de couverture statique"}),a.banniereUrl?e.jsxs("div",{className:"flex flex-col",children:[e.jsx("img",{src:a.banniereUrl,alt:"Bannière",className:"h-32 w-full object-cover rounded mb-2"}),e.jsx("button",{onClick:()=>i("banniereStatique"),className:"text-sm bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded self-start",children:"Changer l'image"})]}):e.jsxs("button",{onClick:()=>i("banniereStatique"),className:"w-full py-8 border-2 border-dashed rounded-lg flex flex-col items-center justify-center text-gray-400 hover:text-gray-600 hover:border-gray-400",children:[e.jsx(y,{className:"mb-1"}),e.jsx("span",{children:"Ajouter une bannière"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Images du slider (",a.imagesSlider.length,")"]}),a.imagesSlider.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"grid grid-cols-3 gap-2",children:a.imagesSlider.map((r,p)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:r,alt:`Slide ${p}`,className:"h-20 w-full object-cover rounded"}),e.jsx("button",{onClick:()=>N(p),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-0.5 opacity-0 group-hover:opacity-100 transition",children:e.jsx(B,{size:14})})]},p))}),e.jsxs("button",{onClick:()=>i("banniere"),className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[e.jsx(V,{size:14})," Ajouter des images"]})]}):e.jsxs("button",{onClick:()=>i("banniere"),className:"w-full py-8 border-2 border-dashed rounded-lg flex flex-col items-center justify-center text-gray-400 hover:text-gray-600 hover:border-gray-400",children:[e.jsx(y,{className:"mb-1"}),e.jsx("span",{children:"Ajouter des images au slider"})]})]})]})]})]})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx("button",{onClick:h,className:`px-6 py-2 text-white font-medium rounded-md shadow-sm transition flex items-center justify-center ${n.type==="success"?"bg-green-500 hover:bg-green-600":n.type==="error"?"bg-red-500 hover:bg-red-600":"bg-yellow-600 hover:bg-yellow-700"}`,style:{backgroundColor:n.type?void 0:a.couleurPrimaire},disabled:!1,children:n.type==="success"?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"Enregistré !"})]}):n.type==="error"?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-5 w-5 mr-2"}),"Réessayer"]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-5 w-5 mr-2"}),"Enregistrer les modifications"]})})}),d&&(s==null?void 0:s.companyId)&&e.jsx(Z,{companyId:s.companyId,onSelect:v,onClose:()=>i(null)})]})},J=()=>{const[s,a]=c.useState([]),[m,n]=c.useState([]),[x,d]=c.useState(""),[i,o]=c.useState(""),[t,g]=c.useState(""),[h,u]=c.useState("guichetier"),[v,N]=c.useState(""),r=async()=>{const l=F(k(b,"users")),C=(await E(l)).docs.map(L=>({id:L.id,...L.data()}));a(C)},p=async()=>{const w=(await E(k(b,"agences"))).docs.map(C=>({id:C.id,nomAgence:C.data().nomAgence}));n(w)},j=async l=>{if(l.preventDefault(),!x||!i||!t||!v||!h){alert("Tous les champs sont obligatoires.");return}try{await G(k(b,"users"),{nom:x,email:i,motDePasse:t,role:h,agencyId:v,createdAt:new Date}),alert("Utilisateur ajouté avec succès."),d(""),o(""),g(""),u("guichetier"),N(""),r()}catch(w){console.error("Erreur ajout utilisateur :",w),alert("Erreur lors de l'ajout.")}};return c.useEffect(()=>{p(),r()},[]),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Gestion du personnel"}),e.jsxs("form",{onSubmit:j,className:"bg-gray-100 p-4 rounded mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Nom complet"}),e.jsx("input",{type:"text",value:x,onChange:l=>d(l.target.value),className:"w-full border p-2 rounded",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Email"}),e.jsx("input",{type:"email",value:i,onChange:l=>o(l.target.value),className:"w-full border p-2 rounded",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Mot de passe temporaire"}),e.jsx("input",{type:"text",value:t,onChange:l=>g(l.target.value),className:"w-full border p-2 rounded",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Rôle"}),e.jsxs("select",{value:h,onChange:l=>u(l.target.value),className:"w-full border p-2 rounded",required:!0,children:[e.jsx("option",{value:"guichetier",children:"Guichetier"}),e.jsx("option",{value:"agent_courrier",children:"Agent de courrier"}),e.jsx("option",{value:"chef_agence",children:"Chef d’agence"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block mb-1",children:"Agence"}),e.jsxs("select",{value:v,onChange:l=>N(l.target.value),className:"w-full border p-2 rounded",required:!0,children:[e.jsx("option",{value:"",children:"-- Sélectionner une agence --"}),m.map(l=>e.jsx("option",{value:l.id,children:l.nomAgence},l.id))]})]}),e.jsx("button",{type:"submit",className:"mt-4 bg-green-600 text-white px-4 py-2 rounded md:col-span-2",children:"Ajouter l'utilisateur"})]}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Liste du personnel"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-200 shadow",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"px-4 py-2 border",children:"Nom"}),e.jsx("th",{className:"px-4 py-2 border",children:"Email"}),e.jsx("th",{className:"px-4 py-2 border",children:"Rôle"}),e.jsx("th",{className:"px-4 py-2 border",children:"Agence"})]})}),e.jsxs("tbody",{children:[s.map(l=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2 border",children:l.nom}),e.jsx("td",{className:"px-4 py-2 border",children:l.email}),e.jsx("td",{className:"px-4 py-2 border",children:l.role}),e.jsx("td",{className:"px-4 py-2 border",children:l.agencyId})]},l.id)),s.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center p-4 text-gray-500",children:"Aucun personnel enregistré."})})]})]})})]})},Q=()=>{const{user:s}=M(),[a,m]=c.useState(""),[n,x]=c.useState(""),[d,i]=c.useState(""),o=async()=>{if(a!==n){i("Les mots de passe ne correspondent pas.");return}try{T.currentUser&&(await W(T.currentUser,a),i("Mot de passe mis à jour avec succès !"))}catch{i("Erreur lors de la mise à jour du mot de passe.")}};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sécurité"}),e.jsx("input",{type:"password",placeholder:"Nouveau mot de passe",value:a,onChange:t=>m(t.target.value),className:"block mb-2 border px-2 py-1"}),e.jsx("input",{type:"password",placeholder:"Confirmer le mot de passe",value:n,onChange:t=>x(t.target.value),className:"block mb-2 border px-2 py-1"}),e.jsx("button",{onClick:o,className:"bg-orange-600 text-white px-4 py-1 rounded",children:"Modifier le mot de passe"}),d&&e.jsx("p",{className:"mt-2 text-green-600",children:d})]})},X=()=>{var i;const{user:s}=M(),[a,m]=c.useState({socialMedia:{facebook:"",instagram:"",whatsapp:"",tiktok:"",linkedin:"",youtube:""},footerConfig:{showSocialMedia:!0}}),[n,x]=c.useState({text:"",type:""});c.useEffect(()=>{s!=null&&s.companyId&&(async()=>{const t=f(b,"companies",s.companyId),g=await A(t);if(g.exists()){const h=g.data();m(u=>({...u,socialMedia:h.socialMedia||u.socialMedia,footerConfig:h.footerConfig||u.footerConfig}))}})()},[s]);const d=async()=>{if(s!=null&&s.companyId){x({text:"Enregistrement...",type:"info"});try{const o=f(b,"companies",s.companyId);await U(o,{socialMedia:a.socialMedia,footerConfig:a.footerConfig}),x({text:"Modifications enregistrées",type:"success"})}catch(o){console.error(o),x({text:"Erreur lors de l'enregistrement",type:"error"})}}};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"Réseaux sociaux & affichage"}),e.jsx(z,{children:n.text&&e.jsx(D.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-4 rounded mb-4 ${n.type==="success"?"bg-green-100 text-green-800":n.type==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:n.text}),n.type==="success"&&e.jsx("button",{onClick:()=>x({text:"",type:""}),className:"text-sm underline",children:"OK"})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Liens des réseaux sociaux"}),e.jsx("div",{className:"space-y-3",children:["facebook","instagram","whatsapp","tiktok","linkedin","youtube"].map(o=>{var t;return e.jsx("input",{type:"url",placeholder:`Lien ${o}`,value:((t=a.socialMedia)==null?void 0:t[o])||"",onChange:g=>{const h=g.target.value;m(u=>({...u,socialMedia:{...u.socialMedia,[o]:h}}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md"},o)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Affichage dans le pied de page"}),e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"checkbox",checked:((i=a.footerConfig)==null?void 0:i.showSocialMedia)??!0,onChange:o=>m(t=>({...t,footerConfig:{...t.footerConfig,showSocialMedia:o.target.checked}})),className:"mr-2"})," Afficher les icônes de réseaux sociaux"]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:d,className:"bg-yellow-600 hover:bg-yellow-700 text-white px-6 py-2 rounded flex items-center gap-2",children:[e.jsx(P,{size:18})," Enregistrer"]})})]})]})},Y=()=>{const{user:s}=M(),[a,m]=c.useState(""),[n,x]=c.useState(""),[d,i]=c.useState({text:"",type:"info"});c.useEffect(()=>{s!=null&&s.companyId&&(async()=>{const g=f(b,"companies",s.companyId),h=await A(g);if(h.exists()){const u=h.data();m(u.politiqueConfidentialite||""),x(u.conditionsUtilisation||"")}})()},[s]);const o=async()=>{if(s!=null&&s.companyId){i({text:"Enregistrement en cours...",type:"info"});try{const t=f(b,"companies",s.companyId);await U(t,{politiqueConfidentialite:a,conditionsUtilisation:n}),i({text:"Mentions mises à jour avec succès.",type:"success"})}catch(t){console.error(t),i({text:"Erreur lors de l'enregistrement.",type:"error"})}}};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded shadow",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"Mentions légales & politique de confidentialité"}),e.jsx(z,{children:d.text&&e.jsx(D.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`p-4 rounded mb-4 ${d.type==="success"?"bg-green-100 text-green-800":d.type==="error"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[d.type==="success"?e.jsx(I,{}):d.type==="error"?e.jsx(q,{}):e.jsx(P,{}),e.jsx("span",{children:d.text})]}),d.type==="success"&&e.jsx("button",{onClick:()=>i({text:"",type:"info"}),className:"text-sm underline",children:"OK"})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Politique de confidentialité"}),e.jsx("textarea",{rows:6,value:a,onChange:t=>m(t.target.value),className:"w-full border border-gray-300 rounded p-3",placeholder:"Expliquer comment les données clients sont collectées et utilisées."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Conditions d'utilisation"}),e.jsx("textarea",{rows:6,value:n,onChange:t=>x(t.target.value),className:"w-full border border-gray-300 rounded p-3",placeholder:"Lister les règles d'utilisation de la plateforme par les clients."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:o,className:"bg-yellow-600 hover:bg-yellow-700 text-white px-6 py-2 rounded flex items-center gap-2",children:[e.jsx(P,{size:18})," Enregistrer"]})})]})]})},ne=()=>{const[s,a]=c.useState("vitrine");return e.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Paramètres de la compagnie"}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("button",{onClick:()=>a("vitrine"),className:`px-4 py-2 rounded ${s==="vitrine"?"bg-yellow-600 text-white":"bg-gray-200"}`,children:"Vitrine publique"}),e.jsx("button",{onClick:()=>a("personnel"),className:`px-4 py-2 rounded ${s==="personnel"?"bg-yellow-600 text-white":"bg-gray-200"}`,children:"Personnel"}),e.jsx("button",{onClick:()=>a("securite"),className:`px-4 py-2 rounded ${s==="securite"?"bg-yellow-600 text-white":"bg-gray-200"}`,children:"Sécurité"}),e.jsx("button",{onClick:()=>a("reseaux"),className:`px-4 py-2 rounded ${s==="reseaux"?"bg-yellow-600 text-white":"bg-gray-200"}`,children:"Réseaux sociaux"}),e.jsx("button",{onClick:()=>a("legaux"),className:`px-4 py-2 rounded ${s==="legaux"?"bg-yellow-600 text-white":"bg-gray-200"}`,children:"Mentions & politique"})]}),s==="vitrine"&&e.jsx(H,{}),s==="personnel"&&e.jsx(J,{}),s==="securite"&&e.jsx(Q,{}),s==="reseaux"&&e.jsx(X,{}),s==="legaux"&&e.jsx(Y,{})]})};export{ne as default};
