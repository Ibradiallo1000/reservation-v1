import{a as r,j as e,F as t}from"./vendor-Bq-8_m9i.js";import{b as i}from"./agence-Bsj2lp2X.js";import"./compagnie-DiuZFnHS.js";import"./firebase-CURBI7X6.js";import"./router-DoGdw-3y.js";import"./icons-C0JHUK9Z.js";import"./courier-CoQgRaHG.js";function p(){const{user:l,loading:n,company:a}=i();return r("div",{className:"min-h-screen p-6 bg-gray-50",children:[e("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"üîç Debug Auth - Diagnostics"}),r("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[e("h2",{className:"text-lg font-semibold mb-4 text-blue-700",children:"üë§ Informations Utilisateur"}),r("div",{className:"space-y-3",children:[r("div",{children:[e("strong",{className:"text-gray-700",children:"√âtat du chargement:"}),e("span",{className:`ml-2 px-2 py-1 rounded text-sm ${n?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:n?"En cours...":"Termin√©"})]}),r("div",{children:[e("strong",{className:"text-gray-700",children:"Utilisateur connect√©:"}),e("span",{className:`ml-2 px-2 py-1 rounded text-sm ${l?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l?"Oui":"Non"})]}),l&&r(t,{children:[r("div",{children:[e("strong",{className:"text-gray-700",children:"Email:"}),e("span",{className:"ml-2 text-gray-900",children:l.email})]}),r("div",{children:[e("strong",{className:"text-gray-700",children:"Nom:"}),e("span",{className:"ml-2 text-gray-900",children:l.nom||"Non d√©fini"})]}),r("div",{children:[e("strong",{className:"text-gray-700",children:"R√¥le (brut):"}),e("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded text-sm font-mono",children:l.role||"Non d√©fini"})]}),r("div",{children:[e("strong",{className:"text-gray-700",children:"ID Compagnie:"}),e("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded text-sm font-mono",children:l.companyId||"Non d√©fini"})]}),r("div",{children:[e("strong",{className:"text-gray-700",children:"ID Agence:"}),e("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded text-sm font-mono",children:l.agencyId||"Non d√©fini"})]})]})]})]}),r("div",{className:"bg-white p-6 rounded-lg shadow-md border",children:[e("h2",{className:"text-lg font-semibold mb-4 text-green-700",children:"üè¢ Informations Compagnie"}),e("div",{className:"space-y-3",children:a?r(t,{children:[r("div",{children:[e("strong",{className:"text-gray-700",children:"Nom Compagnie:"}),e("span",{className:"ml-2 text-gray-900",children:a.nom||"Non d√©fini"})]}),r("div",{children:[e("strong",{className:"text-gray-700",children:"ID:"}),e("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded text-sm font-mono",children:a.id})]}),r("div",{children:[e("strong",{className:"text-gray-700",children:"Slug:"}),e("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded text-sm font-mono",children:a.slug||"Non d√©fini"})]}),r("div",{children:[e("strong",{className:"text-gray-700",children:"Plan:"}),e("span",{className:"ml-2 px-2 py-1 bg-purple-100 text-purple-800 rounded text-sm",children:a.plan||"Non d√©fini"})]})]}):e("div",{className:"text-gray-500 italic",children:l!=null&&l.companyId?"Chargement de la compagnie...":"Aucune compagnie associ√©e"})})]}),r("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg shadow-md border",children:[e("h2",{className:"text-lg font-semibold mb-4 text-red-700",children:"üß™ Tests de Navigation"}),r("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[r("a",{href:"/chef-comptable",className:"block p-4 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition text-center",children:[e("div",{className:"font-medium text-blue-800",children:"/chef-comptable"}),e("div",{className:"text-sm text-blue-600 mt-1",children:"Espace Chef Comptable Compagnie"}),e("div",{className:"text-xs text-blue-500 mt-2",children:"R√¥les: company_accountant, financial_director"})]}),r("a",{href:"/agence/comptabilite",className:"block p-4 bg-green-50 border border-green-200 rounded-lg hover:bg-green-100 transition text-center",children:[e("div",{className:"font-medium text-green-800",children:"/agence/comptabilite"}),e("div",{className:"text-sm text-green-600 mt-1",children:"Espace Comptable Agence"}),e("div",{className:"text-xs text-green-500 mt-2",children:"R√¥le: agency_accountant"})]}),r("a",{href:"/compagnie/dashboard",className:"block p-4 bg-purple-50 border border-purple-200 rounded-lg hover:bg-purple-100 transition text-center",children:[e("div",{className:"font-medium text-purple-800",children:"/compagnie/dashboard"}),e("div",{className:"text-sm text-purple-600 mt-1",children:"Espace CEO Compagnie"}),e("div",{className:"text-xs text-purple-500 mt-2",children:"R√¥le: admin_compagnie"})]}),r("a",{href:"/admin/dashboard",className:"block p-4 bg-orange-50 border border-orange-200 rounded-lg hover:bg-orange-100 transition text-center",children:[e("div",{className:"font-medium text-orange-800",children:"/admin/dashboard"}),e("div",{className:"text-sm text-orange-600 mt-1",children:"Espace Admin Plateforme"}),e("div",{className:"text-xs text-blue-500 mt-2",children:"R√¥le: admin_platforme"})]})]})]}),r("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg shadow-md border",children:[e("h2",{className:"text-lg font-semibold mb-4 text-gray-700",children:"üìä Donn√©es Brutes (JSON)"}),r("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[r("div",{children:[e("h3",{className:"font-medium mb-2 text-gray-600",children:"Utilisateur:"}),e("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-auto max-h-60",children:JSON.stringify(l,null,2)||"Aucun utilisateur"})]}),r("div",{children:[e("h3",{className:"font-medium mb-2 text-gray-600",children:"Compagnie:"}),e("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-auto max-h-60",children:JSON.stringify(a,null,2)||"Aucune compagnie"})]})]})]})]}),r("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e("h3",{className:"font-semibold text-yellow-800 mb-2",children:"üìù Instructions de d√©bogage:"}),r("ul",{className:"list-disc pl-5 text-yellow-700 space-y-1",children:[e("li",{children:"Ouvrez la console du navigateur (F12) pour voir les logs d√©taill√©s"}),e("li",{children:"V√©rifiez que le r√¥le de l'utilisateur dans Firestore correspond √† ceux autoris√©s"}),e("li",{children:"Testez les diff√©rents liens de navigation pour voir o√π vous √™tes redirig√©"}),e("li",{children:"Si bloqu√©, v√©rifiez les logs de PrivateRoute dans la console"})]})]})]})}export{p as default};
