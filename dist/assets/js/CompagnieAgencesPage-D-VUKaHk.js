import{b as ve,r as o,d as xe,a as n,j as t,aW as Ne,aX as we,aY as ke,F as Ce,aZ as Ae,a_ as le}from"./react-KXT1Riez.js";import{t as U,u as Le,r as Se,o as te,y as V,x as F,P as De,F as ae}from"./firebase-DYTOaTLw.js";import{u as je,c as Ge,e as Me,f as B,d as S,g as qe}from"../index-b0dmvJTQ.js";import"./vendor-B27hBV_J.js";delete le.Icon.Default.prototype._getIconUrl;le.Icon.Default.mergeOptions({iconRetinaUrl:"/leaflet/marker-icon-2x.png",iconUrl:"/leaflet/marker-icon.png",shadowUrl:"/leaflet/marker-shadow.png"});const R=s=>s.replace(/\s+/g," ").trim().toLowerCase().replace(new RegExp("\\b\\p{L}","gu"),h=>h.toUpperCase()),D=s=>s.replace(/\D/g,""),ne=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),re=s=>{const h=D(s);return h.length>=8&&h.length<=15},w=s=>s.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").trim().toLowerCase(),Ee=s=>w(s).replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),O=s=>s.trim().toLowerCase(),Ie=({open:s,onClose:h,onConfirm:v,agences:P,agencyIdToDelete:$,loading:k})=>{const[i,g]=o.useState("detach"),[p,f]=o.useState("");if(o.useEffect(()=>{s&&(g("detach"),f(""))},[s]),!s)return null;const x=P.filter(c=>c.id&&c.id!==$),j=i!=="transfer"||i==="transfer"&&p&&p.length>0;return t("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4",children:n("div",{className:"w-full max-w-lg rounded-xl bg-white shadow-lg",children:[n("div",{className:"px-5 py-4 border-b",children:[t("h3",{className:"text-lg font-semibold",children:"Supprimer lâ€™agence"}),t("p",{className:"text-sm text-gray-500",children:"Choisissez quoi faire avec le personnel rattachÃ© Ã  cette agence."})]}),n("div",{className:"px-5 py-4 space-y-4",children:[n("label",{className:"flex items-start space-x-3",children:[t("input",{type:"radio",name:"staffAction",className:"mt-1",checked:i==="detach",onChange:()=>g("detach")}),n("div",{children:[t("div",{className:"font-medium",children:"DÃ©tacher le personnel"}),t("div",{className:"text-sm text-gray-500",children:"Les comptes restent actifs mais ne seront rattachÃ©s Ã  aucune agence (agencyId = null)."})]})]}),n("label",{className:"flex items-start space-x-3",children:[t("input",{type:"radio",name:"staffAction",className:"mt-1",checked:i==="transfer",onChange:()=>g("transfer")}),n("div",{className:"w-full",children:[t("div",{className:"font-medium",children:"TransfÃ©rer vers une autre agence"}),t("div",{className:"text-sm text-gray-500 mb-2",children:"DÃ©place tous les membres vers lâ€™agence sÃ©lectionnÃ©e."}),n("select",{className:"w-full border rounded px-3 py-2",disabled:i!=="transfer",value:p,onChange:c=>f(c.target.value),children:[t("option",{value:"",children:"â€” SÃ©lectionner lâ€™agence cible â€”"}),x.map(c=>n("option",{value:c.id,children:[c.nomAgence," â€¢ ",c.ville,", ",c.pays]},c.id))]})]})]}),n("label",{className:"flex items-start space-x-3",children:[t("input",{type:"radio",name:"staffAction",className:"mt-1",checked:i==="disable",onChange:()=>g("disable")}),n("div",{children:[t("div",{className:"font-medium",children:"DÃ©sactiver les comptes"}),t("div",{className:"text-sm text-gray-500",children:"Les comptes seront dÃ©sactivÃ©s (Auth.disabled = true) et dÃ©tachÃ©s."})]})]}),n("label",{className:"flex items-start space-x-3",children:[t("input",{type:"radio",name:"staffAction",className:"mt-1",checked:i==="delete",onChange:()=>g("delete")}),n("div",{children:[t("div",{className:"font-medium text-red-700",children:"Supprimer les comptes (dangereux)"}),t("div",{className:"text-sm text-red-600",children:"Efface dÃ©finitivement les utilisateurs (Auth + Firestore). Ã€ nâ€™utiliser quâ€™en dernier recours."})]})]})]}),n("div",{className:"px-5 py-4 border-t flex justify-end space-x-2",children:[t("button",{onClick:h,className:"px-4 py-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50",disabled:k,children:"Annuler"}),t("button",{onClick:()=>v(i,i==="transfer"&&p||null),disabled:!j||k,className:`px-4 py-2 rounded-md text-white ${k?"opacity-70":""} ${i==="delete"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:k?"Traitement...":"Confirmer"})]})]})})},ze=()=>{var ee;const{user:s,company:h}=je(),v=Ge(h),{setHeader:P,resetHeader:$}=Me(),k=ve(),[i,g]=o.useState([]),[p,f]=o.useState(!1),[x,j]=o.useState(null),[c,G]=o.useState(1),[C,se]=o.useState(6),[a,N]=o.useState({nomAgence:"",ville:"",pays:"",quartier:"",type:"",emailGerant:"",nomGerant:"",telephone:"",latitude:"",longitude:""}),[_,T]=o.useState(""),[Z,J]=o.useState(!1),[M,Q]=o.useState(!1),[ie,q]=o.useState(!1),[z,X]=o.useState(null),[Y,K]=o.useState(!1),A=((ee=v.colors)==null?void 0:ee.primary)||(s==null?void 0:s.companyColor)||"#2563eb",{companyId:oe}=xe(),d=oe??(s==null?void 0:s.companyId)??"",ce=({onPositionChange:e})=>(Ae({click(r){e(r.latlng.lat,r.latlng.lng)}}),null);o.useEffect(()=>(P({title:"Agences",subtitle:i.length?`${i.length} agence${i.length>1?"s":""}`:"",bg:`linear-gradient(90deg, ${v.colors.primary} 0%, ${v.colors.secondary} 100%)`,fg:"#fff"}),()=>$()),[i.length,v.colors.primary,v.colors.secondary]);const L=async()=>{if(!d){console.warn("companyId manquant â€” impossible de charger les agences"),g([]);return}J(!0);try{await B;const e=U(S,"companies",d,"agences"),l=(await Le(Se(e))).docs.map(y=>({id:y.id,...y.data()}));g(l),G(1)}catch(e){console.error("Erreur Firestore (agences):",e==null?void 0:e.code,e==null?void 0:e.message,e),alert("Une erreur est survenue lors du chargement des agences : "+((e==null?void 0:e.message)||String(e)))}finally{J(!1)}};o.useEffect(()=>{if(!d){g([]);return}let e=!0;return(async()=>{try{if(await B,!e)return;await L()}catch(r){console.warn("dbReady error",r)}})(),()=>{e=!1}},[d]);const E=c*C,H=E-C,de=o.useMemo(()=>i.slice(H,E),[i,H,E]),I=Math.ceil(i.length/C),b=e=>{const{name:r,value:l,type:y}=e.target;if(r==="emailGerant"&&T(""),r==="nomGerant"){N(u=>({...u,[r]:R(l)}));return}if(r==="telephone"){const u=D(l);N(m=>({...m,[r]:u}));return}if((r==="latitude"||r==="longitude")&&l!==""){const u=l.replace(",",".");N(m=>({...m,[r]:u}));return}N(u=>({...u,[r]:y==="email"?l.trim():l}))},me=(e,r)=>{N(l=>({...l,latitude:String(e),longitude:String(r)}))},W=()=>{N({nomAgence:"",ville:"",pays:"",quartier:"",type:"",emailGerant:"",nomGerant:"",telephone:"",latitude:"",longitude:""}),j(null),f(!1),T("")},ue=async()=>{if(!d){alert("Aucune compagnie associÃ©e");return}if(!a.nomAgence.trim()){alert("Nom de l'agence requis");return}if(!ne(a.emailGerant)){T("Email invalide");return}if(!re(a.telephone)){alert("TÃ©lÃ©phone invalide");return}Q(!0);try{const e=await ae(U(S,"companies",d,"agences"),{companyId:d,nomAgence:a.nomAgence.trim(),nomAgenceNorm:w(a.nomAgence),ville:a.ville.trim(),villeNorm:w(a.ville),pays:a.pays.trim(),paysNorm:w(a.pays),quartier:a.quartier||"",type:a.type||"",statut:"active",emailGerant:O(a.emailGerant),nomGerant:R(a.nomGerant||""),telephone:D(a.telephone),latitude:a.latitude?parseFloat(a.latitude):null,longitude:a.longitude?parseFloat(a.longitude):null,createdAt:F()}),r=await ae(U(S,"invitations"),{email:O(a.emailGerant),role:"chefAgence",companyId:d,agencyId:e.id,status:"pending",createdAt:F()});await V(e,{invitationId:r.id}),alert(`âœ… Agence crÃ©Ã©e.

Lien dâ€™activation :
${window.location.origin}/accept-invitation/${r.id}`),W(),L()}catch(e){console.error(e),alert("Erreur lors de la crÃ©ation de l'agence")}finally{Q(!1)}},ge=async e=>{if(e.preventDefault(),x){if(!d||!x)return;try{const r=te(S,"companies",d,"agences",x);await V(r,{companyId:d,nomAgence:a.nomAgence,nomAgenceNorm:w(a.nomAgence),ville:a.ville,villeNorm:w(a.ville),pays:a.pays,paysNorm:w(a.pays),slug:Ee(a.nomAgence),quartier:a.quartier||"",type:a.type||"",nomGerant:a.nomGerant,emailGerant:O(a.emailGerant),telephone:D(a.telephone),latitude:a.latitude?parseFloat(a.latitude):null,longitude:a.longitude?parseFloat(a.longitude):null,updatedAt:F()}),alert("âœ… Agence mise Ã  jour avec succÃ¨s"),W(),L()}catch(r){console.error("Erreur update agence:",r),alert("Erreur: "+((r==null?void 0:r.message)||r))}return}await ue()},he=e=>{N({nomAgence:e.nomAgence,ville:e.ville,pays:e.pays,quartier:e.quartier||"",type:e.type||"",emailGerant:e.emailGerant,nomGerant:R(e.nomGerant||""),telephone:D(e.telephone||""),latitude:e.latitude!=null?String(e.latitude):"",longitude:e.longitude!=null?String(e.longitude):""}),j(e.id),f(!0),window.scrollTo({top:0,behavior:"smooth"})},pe=e=>{X(e),q(!0)},fe=async(e,r)=>{if(!z||!d){q(!1);return}K(!0);try{await B;const l={companyId:d,agencyId:z,action:e,transferToAgencyId:r||void 0},m=(await De(qe,"companyDeleteAgencyCascade")(l)).data;m!=null&&m.success?(alert("Suppression traitÃ©e avec succÃ¨s."),q(!1),X(null),await L()):(console.warn("companyDeleteAgencyCascade returned:",m),alert((m==null?void 0:m.message)||"Erreur lors de la suppression de l'agence."))}catch(l){console.error("Erreur delete agency (function):",l);const y=(l==null?void 0:l.code)||(l==null?void 0:l.status)||"";if(y==="permission-denied"||y==="unauthenticated")alert("Permission refusÃ©e â€” vous n'Ãªtes pas autorisÃ© Ã  supprimer une agence.");else{const u=l!=null&&l.details?`
DÃ©tails: ${JSON.stringify(l.details)}`:"";alert("Erreur lors de la suppression : "+((l==null?void 0:l.message)||String(l))+u)}}finally{K(!1)}},be=async e=>{if(!d||!e.id)return;const r=e.statut==="active"?"inactive":"active";try{await V(te(S,"companies",d,"agences",e.id),{statut:r,updatedAt:F()}),L()}catch(l){console.error("Erreur lors du changement de statut:",l),alert("Une erreur est survenue lors du changement de statut")}},ye=e=>{k(`/compagnie/agence/${e}/dashboard`)};return n("div",{className:"p-6 max-w-6xl mx-auto",children:[n("div",{className:"flex justify-between items-center mb-8",children:[t("div",{}),n("button",{onClick:()=>f(!p),className:"flex items-center px-4 py-2 rounded-md shadow-sm text-white font-medium",style:{backgroundColor:A},children:[t("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),p?"Masquer le formulaire":"Ajouter une nouvelle agence"]})]}),p&&t("form",{onSubmit:ge,className:"bg-white p-6 rounded-lg shadow-md mb-8 border border-gray-200",children:n("fieldset",{disabled:M,className:M?"opacity-60":"",children:[t("h3",{className:"text-lg font-semibold mb-4",style:{color:A},children:x?"Modifier une agence":"Ajouter une nouvelle agence"}),n("div",{className:"grid md:grid-cols-2 gap-6",children:[n("div",{className:"space-y-4",children:[n("div",{children:[t("label",{className:"block text-sm font-medium mb-1",children:"Nom de l'agence *"}),t("input",{name:"nomAgence",value:a.nomAgence,onChange:b,className:"form-input w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n("div",{children:[t("label",{className:"block text-sm font-medium mb-1",children:"Ville *"}),t("input",{name:"ville",value:a.ville,onChange:b,className:"form-input w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n("div",{children:[t("label",{className:"block text-sm font-medium mb-1",children:"Pays *"}),t("input",{name:"pays",value:a.pays,onChange:b,className:"form-input w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n("div",{children:[t("label",{className:"block text-sm font-medium mb-1",children:"Quartier"}),t("input",{name:"quartier",value:a.quartier,onChange:b,className:"form-input w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n("div",{children:[t("label",{className:"block text-sm font-medium mb-1",children:"Type"}),t("input",{name:"type",value:a.type,onChange:b,className:"form-input w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),n("div",{className:"space-y-4",children:[n("div",{children:[t("label",{className:"block text-sm font-medium mb-1",children:"Nom du gÃ©rant *"}),t("input",{name:"nomGerant",value:a.nomGerant,onChange:b,className:"form-input w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),n("div",{children:[t("label",{className:"block text-sm font-medium mb-1",children:"Email du gÃ©rant *"}),t("input",{name:"emailGerant",type:"email",value:a.emailGerant,onChange:b,className:`form-input w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 ${a.emailGerant&&!ne(a.emailGerant)?"border-red-500 focus:ring-red-400":"border-gray-300 focus:ring-blue-500"}`,required:!0}),_&&t("p",{className:"text-red-600 text-sm mt-1",children:_})]}),n("div",{children:[t("label",{className:"block text-sm font-medium mb-1",children:"TÃ©lÃ©phone *"}),t("input",{name:"telephone",inputMode:"numeric",value:a.telephone,onChange:b,minLength:8,maxLength:15,className:`form-input w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 ${a.telephone&&!re(a.telephone)?"border-red-500 focus:ring-red-400":"border-gray-300 focus:ring-blue-500"}`,required:!0,placeholder:"Ex.: 78953098"})]})]})]}),n("div",{className:"mt-6",children:[n("label",{className:"block text-sm font-medium mb-1",children:["ðŸ“ Position gÃ©ographique"," ",a.latitude&&a.longitude&&n("span",{className:"text-gray-500 ml-2",children:["(",a.latitude,", ",a.longitude,")"]})]}),t("p",{className:"text-sm text-gray-500 mb-2",children:"Cliquez sur la carte pour positionner l'agence"}),t("div",{className:"h-64 rounded-lg border border-gray-300 overflow-hidden",children:n(Ne,{center:[a.latitude?parseFloat(a.latitude):12.6392,a.longitude?parseFloat(a.longitude):-8.0029],zoom:a.latitude?15:12,className:"h-full w-full",scrollWheelZoom:!0,children:[t(we,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t(ce,{onPositionChange:me}),a.latitude&&a.longitude&&t(ke,{position:[parseFloat(a.latitude),parseFloat(a.longitude)]})]})})]}),n("div",{className:"flex justify-end space-x-3 mt-6",children:[t("button",{type:"button",onClick:W,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),t("button",{type:"submit",disabled:M,className:"px-4 py-2 rounded-md shadow-sm text-sm font-medium text-white hover:bg-opacity-90",style:{backgroundColor:A},children:x?"Mettre Ã  jour l'agence":M?"CrÃ©ationâ€¦":"Ajouter l'agence"})]})]})}),n("div",{className:"flex justify-between items-center mb-4",children:[t("h3",{className:"text-xl font-semibold",children:Z?"Chargementâ€¦":`Liste des agences (${i.length})`}),n("div",{className:"flex items-center",children:[t("label",{className:"mr-2 text-sm",children:"Agences par page:"}),n("select",{value:C,onChange:e=>{se(Number(e.target.value)),G(1)},className:"border rounded p-1 text-sm",children:[t("option",{value:6,children:"6"}),t("option",{value:12,children:"12"}),t("option",{value:24,children:"24"})]})]})]}),i.length===0&&!Z?n("div",{className:"bg-white p-8 rounded-lg shadow-sm border border-gray-200 text-center",children:[t("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),t("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Aucune agence enregistrÃ©e"}),t("p",{className:"mt-1 text-sm text-gray-500",children:"Commencez par ajouter votre premiÃ¨re agence."}),t("div",{className:"mt-6",children:n("button",{onClick:()=>f(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white",style:{backgroundColor:A},children:[t("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Ajouter une agence"]})})]}):n(Ce,{children:[t("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:de.map(e=>t("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200 hover:shadow-md transition-shadow",children:n("div",{className:"p-5",children:[n("div",{className:"flex justify-between items-start",children:[n("div",{children:[t("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:e.nomAgence}),n("p",{className:"text-sm text-gray-500",children:[e.ville,", ",e.pays]})]}),t("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.statut==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.statut==="active"?"Active":"Inactive"})]}),n("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[n("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[t("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.emailGerant]}),e.invitationId&&t("div",{className:"mb-2",children:t("a",{href:`/accept-invitation/${e.invitationId}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 underline hover:text-blue-800",children:"ðŸ‘‰ Accepter lâ€™invitation du gÃ©rant"})}),n("div",{className:"flex items-center text-sm text-gray-500",children:[t("svg",{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.telephone]})]}),n("div",{className:"mt-5 flex justify-between space-x-2",children:[n("button",{onClick:()=>ye(e.id),className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[t("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2z"})}),"Dashboard"]}),n("button",{onClick:()=>{f(!0),he(e)},className:"inline-flex justify-center items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white",style:{backgroundColor:A},children:[t("svg",{className:"-ml-1 mr-2 h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Modifier"]})]}),n("div",{className:"mt-3 flex space-x-2",children:[t("button",{onClick:()=>be(e),className:`flex-1 px-3 py-2 border rounded-md text-sm font-medium ${e.statut==="active"?"border-yellow-300 text-yellow-700 bg-yellow-100 hover:bg-yellow-200":"border-green-300 text-green-700 bg-green-100 hover:bg-green-200"}`,children:e.statut==="active"?"DÃ©sactiver":"Activer"}),t("button",{onClick:()=>pe(e.id),className:"flex-1 px-3 py-2 border border-red-300 rounded-md text-sm font-medium text-red-700 bg-red-100 hover:bg-red-200",children:"Supprimer"})]})]})},e.id))}),i.length>C&&n("div",{className:"flex justify-between items-center mt-6",children:[n("div",{className:"text-sm text-gray-500",children:["Affichage ",H+1,"-",Math.min(E,i.length)," sur ",i.length," agences"]}),n("div",{className:"flex space-x-2",children:[t("button",{onClick:()=>G(e=>Math.max(e-1,1)),disabled:c===1,className:`px-4 py-2 rounded-md ${c===1?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"PrÃ©cÃ©dent"}),n("span",{className:"px-4 py-2 text-gray-700",children:["Page ",c," sur ",I]}),t("button",{onClick:()=>G(e=>Math.min(e+1,I)),disabled:c===I,className:`px-4 py-2 rounded-md ${c===I?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Suivant"})]})]})]}),t(Ie,{open:ie,onClose:()=>!Y&&q(!1),onConfirm:(e,r)=>fe(e,r),agences:i,agencyIdToDelete:z,loading:Y})]})};export{ze as default};
