import{r as c,a as r,j as e}from"./react-DgrrIcw2.js";import{q as p,w as h,k as m,l as b}from"./firebase-eGIzIftJ.js";import{u as x,d as y}from"../index-p6Te0bSg.js";import"./vendor-BHjJ2Hjk.js";const w=()=>{const{user:a}=x(),[t,o]=c.useState([]),n=async()=>{if(!(a!=null&&a.companyId))return;const s=p(m(y,"users"),h("companyId","==",a.companyId)),i=(await b(s)).docs.map(d=>({id:d.id,...d.data()}));o(i)};return c.useEffect(()=>{n()},[a]),r("div",{className:"p-6",children:[e("h1",{className:"text-2xl font-bold mb-4",children:"Gestion du personnel"}),r("div",{className:"bg-white rounded-xl shadow p-4",children:[e("h2",{className:"font-semibold text-lg mb-3",children:"Liste des agents"}),t.length===0?e("p",{className:"text-gray-500",children:"Aucun agent trouvé."}):r("table",{className:"w-full table-auto border",children:[e("thead",{children:r("tr",{className:"bg-gray-100",children:[e("th",{className:"border px-4 py-2",children:"Nom"}),e("th",{className:"border px-4 py-2",children:"Rôle"}),e("th",{className:"border px-4 py-2",children:"Email"}),e("th",{className:"border px-4 py-2",children:"Téléphone"}),e("th",{className:"border px-4 py-2",children:"Agence"})]})}),e("tbody",{children:t.map(s=>{var l;return r("tr",{children:[e("td",{className:"border px-4 py-2",children:s.displayName||"-"}),e("td",{className:"border px-4 py-2",children:s.role}),e("td",{className:"border px-4 py-2",children:s.email}),e("td",{className:"border px-4 py-2",children:s.telephone||"-"}),e("td",{className:"border px-4 py-2",children:((l=s.agence)==null?void 0:l.nom)||"-"})]},s.id)})})]})]})]})};export{w as default};
