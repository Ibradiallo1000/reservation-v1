import{r as l,j as e,E as j}from"./react-CdtEOh9s.js";import{h as v,f}from"./firebase-C3aZpI0W.js";import{d as N}from"../index-_JuAPzwQ.js";import"./vendor-D_1n0kdO.js";const y=[{title:"CrÃ©er un membre du staff",path:"/admin/ajouter-personnel",description:"Ajouter un utilisateur interne Ã  la plateforme"},{title:"Compagnies",path:"/admin/compagnies",description:"Voir et gÃ©rer toutes les compagnies partenaires"},{title:"RÃ©servations",path:"/admin/reservations",description:"Voir la liste complÃ¨te des rÃ©servations reÃ§ues"},{title:"Agents CrÃ©Ã©s",path:"/admin/agents",description:"Voir les agents enregistrÃ©s dans le systÃ¨me"},{title:"Finances globales",path:"/admin/finances",description:"Suivez les revenus, dÃ©penses et bÃ©nÃ©fices de la compagnie."},{title:"Statistiques",path:"/admin/statistiques",description:"Consulter les statistiques d'utilisation du systÃ¨me"},{title:"Historique des ventes",path:"/admin/ventes",description:"Voir l'historique complet des ventes par ville ou pays"},{title:"DÃ©penses journaliÃ¨res",path:"/admin/depenses",description:"Ajouter et suivre les sorties d'argent quotidiennes."},{title:"Messagerie",path:"/admin/messagerie",description:"RÃ©pondez aux clients ou communiquez avec vos agents."},{title:"ParamÃ¨tres",path:"/admin/parametres",description:"Modifiez les prÃ©fÃ©rences, le mot de passe ou le logo."}],F=()=>{const[g,h]=l.useState([]),[n,x]=l.useState({total:0,reservations:0,commission:0});return l.useEffect(()=>{(async()=>{const i=await v(f(N,"reservations"));let r=0,c=0,d=0;const t={};for(const u of i.docs){const o=u.data(),a=o.companyId||"inconnu",b=o.companySlug||"â€”",m=o.total||0,p=o.commission||0;t[a]||(t[a]={companyId:a,companySlug:b,total:0,count:0,commission:0}),t[a].total+=m,t[a].commission+=p,t[a].count+=1,r+=m,d+=p,c++}h(Object.values(t)),x({total:r,reservations:c,commission:d})})()},[]),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Super Administrateur â€“ Vue Globale Plateforme"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"GÃ©rez toutes les compagnies, agences et utilisateurs depuis cet espace."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[e.jsx("h2",{className:"text-sm text-gray-500",children:"Total rÃ©servations"}),e.jsx("p",{className:"text-xl font-bold text-blue-700",children:n.reservations})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[e.jsx("h2",{className:"text-sm text-gray-500",children:"Montant encaissÃ©"}),e.jsxs("p",{className:"text-xl font-bold text-green-600",children:[n.total.toLocaleString()," FCFA"]})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-4 shadow-sm",children:[e.jsx("h2",{className:"text-sm text-gray-500",children:"Commission gÃ©nÃ©rÃ©e"}),e.jsxs("p",{className:"text-xl font-bold text-orange-600",children:[n.commission.toLocaleString()," FCFA"]})]})]}),e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"DÃ©tail par compagnie"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:g.map((s,i)=>e.jsxs("div",{className:"p-4 border rounded-lg shadow-sm bg-white",children:[e.jsx("h3",{className:"text-lg font-bold text-yellow-700 mb-1",children:s.companySlug}),e.jsxs("p",{className:"text-sm text-gray-700",children:["RÃ©servations : ",s.count]}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Montant : ",s.total.toLocaleString()," FCFA"]}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Commission : ",s.commission.toLocaleString()," FCFA"]})]},i))}),e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Modules de gestion"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map((s,i)=>e.jsxs(j,{to:s.path,className:"p-4 border rounded-lg shadow-sm hover:shadow-md bg-white hover:bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-600 mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description}),'to="/villes"ğŸ“ Villes']},i))})]})};export{F as default};
