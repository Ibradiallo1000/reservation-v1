import{r,a as l,j as e}from"./react-DgrrIcw2.js";import{l as f,k as b}from"./firebase-eGIzIftJ.js";import{d as g}from"../index-p6Te0bSg.js";import"./vendor-BHjJ2Hjk.js";const C=()=>{const[d,i]=r.useState([]),[o,m]=r.useState(""),[c,h]=r.useState(!0);r.useEffect(()=>{(async()=>{try{const p=(await f(b(g,"villes"))).docs.map(a=>({id:a.id,...a.data()})).sort((a,u)=>a.nom.localeCompare(u.nom));i(p)}catch(s){console.error("Erreur chargement des villes :",s)}finally{h(!1)}})()},[]);const n=d.filter(t=>t.nom.toLowerCase().includes(o.toLowerCase()));return l("div",{className:"p-6",children:[e("h1",{className:"text-2xl font-bold mb-4",children:"üìç Liste des villes enregistr√©es"}),e("input",{type:"text",placeholder:"Rechercher une ville...",value:o,onChange:t=>m(t.target.value),className:"mb-4 p-2 border w-full md:w-1/2 rounded"}),c?e("p",{className:"text-gray-500",children:"Chargement..."}):l("table",{className:"w-full table-auto border",children:[e("thead",{children:l("tr",{className:"bg-gray-200 text-left",children:[e("th",{className:"p-2 border",children:"#"}),e("th",{className:"p-2 border",children:"Nom de la ville"})]})}),e("tbody",{children:n.map((t,s)=>l("tr",{className:"border-t hover:bg-gray-50",children:[e("td",{className:"p-2 border",children:s+1}),e("td",{className:"p-2 border font-medium",children:t.nom})]},t.id))})]}),!c&&n.length===0&&e("p",{className:"text-center text-gray-500 mt-4",children:"Aucune ville trouv√©e."})]})};export{C as default};
