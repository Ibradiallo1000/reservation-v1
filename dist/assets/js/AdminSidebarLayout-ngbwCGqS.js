import{b as x,u as N,r as c,aK as v,aL as y,V as k,aa as d,aM as j,B as L,W as C,j as e,a as t,aN as T,aO as O,aP as P,ar as S,_,$ as A}from"./react-KXT1Riez.js";import{u as B}from"../index-CBC3XRHi.js";import"./firebase-DYTOaTLw.js";import"./vendor-B27hBV_J.js";const h=[{label:"Tableau de bord",icon:v,path:"dashboard",end:!0},{label:"Compagnies",icon:y,path:"compagnies"},{label:"Réservations",icon:k,path:"reservations"},{label:"Finances",icon:d,path:"finances"},{label:"Statistiques",icon:j,path:"statistiques"},{label:"Plans & tarifs",icon:d,path:"plans"},{label:"Médias",icon:L,path:"media"},{label:"Paramètres",icon:C,path:"parametres-platforme"}],D=()=>{const{user:a,logout:m}=B(),p=x(),{pathname:o}=N(),[i,b]=c.useState(!1),g=c.useMemo(()=>{const s=o.split("/").filter(Boolean),n=s[0]==="admin"&&s[1]||"dashboard",l=h.find(r=>r.path.split("/")[0]===n);return(l==null?void 0:l.label)??"Tableau de bord"},[o]),u=async()=>{try{await m(),p("/login")}catch(s){console.error(s)}},w=Array.isArray(a==null?void 0:a.role)?a.role.join(", "):(a==null?void 0:a.role)||"—";return e("div",{className:"app-root h-screen overflow-hidden bg-[hsl(var(--background))] bg-white",children:t("div",{className:"grid grid-cols-[auto_1fr] h-full min-h-0",children:[t("aside",{className:["bg-orange-600 text-white relative flex flex-col min-h-screen z-30","transition-all duration-300",i?"w-[84px]":"w-64"].join(" "),children:[t("div",{className:"px-4 py-4 border-b border-white/15 flex items-center justify-between sticky top-0 z-10 bg-orange-600",children:[t("div",{className:"flex items-center gap-2 overflow-hidden",children:[e("img",{src:"/images/teliya-logo.jpg",alt:"Teliya",className:"w-9 h-9 rounded-full bg-white object-cover shrink-0 p-[2px]"}),!i&&e("span",{className:"text-lg font-semibold tracking-wide",children:"Teliya"})]}),e("button",{onClick:()=>b(s=>!s),className:"p-2 rounded-lg bg-white/10 hover:bg-white/20",title:i?"Ouvrir":"Réduire",children:i?e(T,{className:"w-5 h-5"}):e(O,{className:"w-5 h-5"})})]}),e("nav",{className:"flex-1 overflow-y-auto overflow-x-hidden px-2 pt-3 pb-24",children:h.map(({label:s,icon:n,path:l,end:r})=>t(P,{to:l,end:r,className:({isActive:f})=>["group flex items-center gap-3 my-1 px-3 py-3 rounded-xl transition","whitespace-nowrap overflow-hidden",f?"bg-white text-orange-700 font-semibold shadow-sm":"text-white/95 hover:bg-white/10"].join(" "),title:s,children:[e(n,{className:"w-5 h-5 shrink-0"}),!i&&e("span",{className:"truncate",children:s})]},l))}),e("div",{className:"sticky bottom-0 px-4 py-3 border-t border-white/15 bg-orange-700/95 backdrop-blur",children:t("div",{className:"flex items-center justify-between",children:[t("div",{className:"flex items-center gap-3 min-w-0",children:[e("div",{className:"w-9 h-9 rounded-full bg-white/20 grid place-items-center",children:e(S,{className:"w-5 h-5"})}),!i&&t("div",{className:"min-w-0",children:[e("p",{className:"text-sm font-semibold truncate",children:(a==null?void 0:a.displayName)||(a==null?void 0:a.email)||"Utilisateur"}),e("p",{className:"text-[11px] text-white/85 leading-tight truncate",children:w})]})]}),e("button",{onClick:u,className:"w-9 h-9 rounded-full bg-white text-orange-700 hover:bg-white/90 grid place-items-center",title:"Déconnexion",children:e(_,{className:"w-4 h-4"})})]})})]}),t("div",{className:"flex flex-col min-w-0 min-h-0",children:[e("header",{className:"bg-orange-600 text-white sticky top-0 z-20",children:t("div",{className:"px-6 py-3 flex items-center justify-between gap-4",children:[e("h1",{className:"text-base font-medium",children:g}),e("div",{className:"h-6"})]})}),e("main",{className:"flex-1 min-h-0 overflow-y-auto bg-[hsl(var(--background))] p-4 md:p-6",children:e("div",{className:"h-full flex items-stretch",children:e("div",{className:"bg-white w-full rounded-none md:rounded-l-3xl shadow-[0_8px_24px_rgba(0,0,0,0.08)] border border-orange-100 overflow-hidden",children:e("div",{className:"p-4 md:p-6",children:e(A,{})})})})})]})]})})};export{D as default};
